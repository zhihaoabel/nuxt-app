[{"data":1,"prerenderedAt":3610},["ShallowReactive",2],{"navigation":3,"/get-started/deployment":32,"/get-started/deployment-surround":3607},[4],{"title":5,"path":6,"stem":7,"children":8,"page":-1},"Get Started","/get-started","get-started",[9,12,16,20,24,28],{"title":10,"path":6,"stem":11},"快速开始指南","get-started/index",{"title":13,"path":14,"stem":15},"配置指南","/get-started/configuration","get-started/configuration",{"title":17,"path":18,"stem":19},"部署指南","/get-started/deployment","get-started/deployment",{"title":21,"path":22,"stem":23},"开发指南","/get-started/development","get-started/development",{"title":25,"path":26,"stem":27},"安装指南","/get-started/installation","get-started/installation",{"title":29,"path":30,"stem":31},"项目结构","/get-started/project-structure","get-started/project-structure",{"id":33,"title":17,"body":34,"description":3601,"extension":3602,"meta":3603,"navigation":162,"path":18,"seo":3605,"stem":19,"__hash__":3606},"introduction/get-started/deployment.md",{"type":35,"value":36,"toc":3565},"minimal",[37,40,44,48,52,55,133,136,198,201,205,210,229,236,421,425,457,461,468,550,554,557,573,577,584,766,773,976,980,1051,1055,1059,1185,1189,1192,1221,1228,1419,1422,1435,1438,1441,1445,1607,1611,1684,1687,1824,1827,1830,1834,1848,1918,1922,2139,2142,2297,2300,2304,2430,2433,2486,2489,2492,2629,2632,2776,2780,2784,3269,3272,3275,3279,3321,3325,3352,3356,3367,3407,3410,3526,3529,3561],[38,39,17],"h1",{"id":17},[41,42,43],"p",{},"本指南将帮助您将应用部署到生产环境，包括各种部署平台的配置和最佳实践。",[45,46,47],"h2",{"id":47},"构建准备",[49,50,51],"h3",{"id":51},"环境变量配置",[41,53,54],{},"创建生产环境变量文件：",[56,57,62],"pre",{"className":58,"code":59,"language":60,"meta":61,"style":61},"language-bash shiki shiki-themes slack-ochin slack-ochin slack-dark","# .env.production\nNUXT_PUBLIC_SITE_URL=https://yoursite.com\nNUXT_PUBLIC_API_BASE=https://api.yoursite.com\nNUXT_UI_PRO_LICENSE=your-license-key\nNUXT_SECRET_KEY=your-secret-key\nDATABASE_URL=your-database-url\n","bash","",[63,64,65,74,89,100,111,122],"code",{"__ignoreMap":61},[66,67,70],"span",{"class":68,"line":69},"line",1,[66,71,73],{"class":72},"sfEkN","# .env.production\n",[66,75,77,81,85],{"class":68,"line":76},2,[66,78,80],{"class":79},"stY2G","NUXT_PUBLIC_SITE_URL",[66,82,84],{"class":83},"s4fzq","=",[66,86,88],{"class":87},"s3_3W","https://yoursite.com\n",[66,90,92,95,97],{"class":68,"line":91},3,[66,93,94],{"class":79},"NUXT_PUBLIC_API_BASE",[66,96,84],{"class":83},[66,98,99],{"class":87},"https://api.yoursite.com\n",[66,101,103,106,108],{"class":68,"line":102},4,[66,104,105],{"class":79},"NUXT_UI_PRO_LICENSE",[66,107,84],{"class":83},[66,109,110],{"class":87},"your-license-key\n",[66,112,114,117,119],{"class":68,"line":113},5,[66,115,116],{"class":79},"NUXT_SECRET_KEY",[66,118,84],{"class":83},[66,120,121],{"class":87},"your-secret-key\n",[66,123,125,128,130],{"class":68,"line":124},6,[66,126,127],{"class":79},"DATABASE_URL",[66,129,84],{"class":83},[66,131,132],{"class":87},"your-database-url\n",[49,134,135],{"id":135},"构建命令",[56,137,139],{"className":58,"code":138,"language":60,"meta":61,"style":61},"# 生产构建\nnpm run build\n\n# 静态站点生成\nnpm run generate\n\n# 预览构建结果\nnpm run preview\n",[63,140,141,146,158,164,169,178,182,188],{"__ignoreMap":61},[66,142,143],{"class":68,"line":69},[66,144,145],{"class":72},"# 生产构建\n",[66,147,148,152,155],{"class":68,"line":76},[66,149,151],{"class":150},"sIx0X","npm",[66,153,154],{"class":87}," run",[66,156,157],{"class":87}," build\n",[66,159,160],{"class":68,"line":91},[66,161,163],{"emptyLinePlaceholder":162},true,"\n",[66,165,166],{"class":68,"line":102},[66,167,168],{"class":72},"# 静态站点生成\n",[66,170,171,173,175],{"class":68,"line":113},[66,172,151],{"class":150},[66,174,154],{"class":87},[66,176,177],{"class":87}," generate\n",[66,179,180],{"class":68,"line":124},[66,181,163],{"emptyLinePlaceholder":162},[66,183,185],{"class":68,"line":184},7,[66,186,187],{"class":72},"# 预览构建结果\n",[66,189,191,193,195],{"class":68,"line":190},8,[66,192,151],{"class":150},[66,194,154],{"class":87},[66,196,197],{"class":87}," preview\n",[45,199,200],{"id":200},"部署平台",[49,202,204],{"id":203},"vercel-部署","Vercel 部署",[206,207,209],"h4",{"id":208},"_1-安装-vercel-cli","1. 安装 Vercel CLI",[56,211,213],{"className":58,"code":212,"language":60,"meta":61,"style":61},"npm i -g vercel\n",[63,214,215],{"__ignoreMap":61},[66,216,217,219,222,226],{"class":68,"line":69},[66,218,151],{"class":150},[66,220,221],{"class":87}," i",[66,223,225],{"class":224},"sKHZn"," -g",[66,227,228],{"class":87}," vercel\n",[206,230,232,233],{"id":231},"_2-配置-verceljson","2. 配置 ",[63,234,235],{},"vercel.json",[56,237,241],{"className":238,"code":239,"language":240,"meta":61,"style":61},"language-json shiki shiki-themes slack-ochin slack-ochin slack-dark","{\n  \"builds\": [\n    {\n      \"src\": \"nuxt.config.ts\",\n      \"use\": \"@nuxtjs/vercel-builder\"\n    }\n  ],\n  \"routes\": [\n    {\n      \"src\": \"/api/(.*)\",\n      \"dest\": \"/api/$1\"\n    },\n    {\n      \"src\": \"/(.*)\",\n      \"dest\": \"/\"\n    }\n  ],\n  \"env\": {\n    \"NUXT_PUBLIC_SITE_URL\": \"@nuxt_public_site_url\",\n    \"NUXT_PUBLIC_API_BASE\": \"@nuxt_public_api_base\"\n  }\n}\n","json",[63,242,243,249,258,263,278,288,293,298,305,310,322,333,339,344,356,366,371,376,385,398,409,415],{"__ignoreMap":61},[66,244,245],{"class":68,"line":69},[66,246,248],{"class":247},"sHMit","{\n",[66,250,251,255],{"class":68,"line":76},[66,252,254],{"class":253},"s4h4A","  \"builds\"",[66,256,257],{"class":247},": [\n",[66,259,260],{"class":68,"line":91},[66,261,262],{"class":247},"    {\n",[66,264,265,268,271,275],{"class":68,"line":102},[66,266,267],{"class":253},"      \"src\"",[66,269,270],{"class":247},": ",[66,272,274],{"class":273},"sZjll","\"nuxt.config.ts\"",[66,276,277],{"class":247},",\n",[66,279,280,283,285],{"class":68,"line":113},[66,281,282],{"class":253},"      \"use\"",[66,284,270],{"class":247},[66,286,287],{"class":273},"\"@nuxtjs/vercel-builder\"\n",[66,289,290],{"class":68,"line":124},[66,291,292],{"class":247},"    }\n",[66,294,295],{"class":68,"line":184},[66,296,297],{"class":247},"  ],\n",[66,299,300,303],{"class":68,"line":190},[66,301,302],{"class":253},"  \"routes\"",[66,304,257],{"class":247},[66,306,308],{"class":68,"line":307},9,[66,309,262],{"class":247},[66,311,313,315,317,320],{"class":68,"line":312},10,[66,314,267],{"class":253},[66,316,270],{"class":247},[66,318,319],{"class":273},"\"/api/(.*)\"",[66,321,277],{"class":247},[66,323,325,328,330],{"class":68,"line":324},11,[66,326,327],{"class":253},"      \"dest\"",[66,329,270],{"class":247},[66,331,332],{"class":273},"\"/api/$1\"\n",[66,334,336],{"class":68,"line":335},12,[66,337,338],{"class":247},"    },\n",[66,340,342],{"class":68,"line":341},13,[66,343,262],{"class":247},[66,345,347,349,351,354],{"class":68,"line":346},14,[66,348,267],{"class":253},[66,350,270],{"class":247},[66,352,353],{"class":273},"\"/(.*)\"",[66,355,277],{"class":247},[66,357,359,361,363],{"class":68,"line":358},15,[66,360,327],{"class":253},[66,362,270],{"class":247},[66,364,365],{"class":273},"\"/\"\n",[66,367,369],{"class":68,"line":368},16,[66,370,292],{"class":247},[66,372,374],{"class":68,"line":373},17,[66,375,297],{"class":247},[66,377,379,382],{"class":68,"line":378},18,[66,380,381],{"class":253},"  \"env\"",[66,383,384],{"class":247},": {\n",[66,386,388,391,393,396],{"class":68,"line":387},19,[66,389,390],{"class":253},"    \"NUXT_PUBLIC_SITE_URL\"",[66,392,270],{"class":247},[66,394,395],{"class":273},"\"@nuxt_public_site_url\"",[66,397,277],{"class":247},[66,399,401,404,406],{"class":68,"line":400},20,[66,402,403],{"class":253},"    \"NUXT_PUBLIC_API_BASE\"",[66,405,270],{"class":247},[66,407,408],{"class":273},"\"@nuxt_public_api_base\"\n",[66,410,412],{"class":68,"line":411},21,[66,413,414],{"class":247},"  }\n",[66,416,418],{"class":68,"line":417},22,[66,419,420],{"class":247},"}\n",[206,422,424],{"id":423},"_3-部署","3. 部署",[56,426,428],{"className":58,"code":427,"language":60,"meta":61,"style":61},"# 首次部署\nvercel\n\n# 生产部署\nvercel --prod\n",[63,429,430,435,440,444,449],{"__ignoreMap":61},[66,431,432],{"class":68,"line":69},[66,433,434],{"class":72},"# 首次部署\n",[66,436,437],{"class":68,"line":76},[66,438,439],{"class":150},"vercel\n",[66,441,442],{"class":68,"line":91},[66,443,163],{"emptyLinePlaceholder":162},[66,445,446],{"class":68,"line":102},[66,447,448],{"class":72},"# 生产部署\n",[66,450,451,454],{"class":68,"line":113},[66,452,453],{"class":150},"vercel",[66,455,456],{"class":224}," --prod\n",[49,458,460],{"id":459},"netlify-部署","Netlify 部署",[206,462,464,465],{"id":463},"_1-配置-netlifytoml","1. 配置 ",[63,466,467],{},"netlify.toml",[56,469,473],{"className":470,"code":471,"language":472,"meta":61,"style":61},"language-toml shiki shiki-themes slack-ochin slack-ochin slack-dark","[build]\n  command = \"npm run generate\"\n  publish = \".output/public\"\n\n[build.environment]\n  NODE_VERSION = \"18\"\n\n[[redirects]]\n  from = \"/api/*\"\n  to = \"/.netlify/functions/:splat\"\n  status = 200\n\n[[redirects]]\n  from = \"/*\"\n  to = \"/index.html\"\n  status = 200\n","toml",[63,474,475,480,485,490,494,499,504,508,513,518,523,528,532,536,541,546],{"__ignoreMap":61},[66,476,477],{"class":68,"line":69},[66,478,479],{},"[build]\n",[66,481,482],{"class":68,"line":76},[66,483,484],{},"  command = \"npm run generate\"\n",[66,486,487],{"class":68,"line":91},[66,488,489],{},"  publish = \".output/public\"\n",[66,491,492],{"class":68,"line":102},[66,493,163],{"emptyLinePlaceholder":162},[66,495,496],{"class":68,"line":113},[66,497,498],{},"[build.environment]\n",[66,500,501],{"class":68,"line":124},[66,502,503],{},"  NODE_VERSION = \"18\"\n",[66,505,506],{"class":68,"line":184},[66,507,163],{"emptyLinePlaceholder":162},[66,509,510],{"class":68,"line":190},[66,511,512],{},"[[redirects]]\n",[66,514,515],{"class":68,"line":307},[66,516,517],{},"  from = \"/api/*\"\n",[66,519,520],{"class":68,"line":312},[66,521,522],{},"  to = \"/.netlify/functions/:splat\"\n",[66,524,525],{"class":68,"line":324},[66,526,527],{},"  status = 200\n",[66,529,530],{"class":68,"line":335},[66,531,163],{"emptyLinePlaceholder":162},[66,533,534],{"class":68,"line":341},[66,535,512],{},[66,537,538],{"class":68,"line":346},[66,539,540],{},"  from = \"/*\"\n",[66,542,543],{"class":68,"line":358},[66,544,545],{},"  to = \"/index.html\"\n",[66,547,548],{"class":68,"line":368},[66,549,527],{},[206,551,553],{"id":552},"_2-环境变量","2. 环境变量",[41,555,556],{},"在 Netlify 控制台设置环境变量：",[558,559,560,565,569],"ul",{},[561,562,563],"li",{},[63,564,80],{},[561,566,567],{},[63,568,94],{},[561,570,571],{},[63,572,105],{},[49,574,576],{"id":575},"docker-部署","Docker 部署",[206,578,580,581],{"id":579},"_1-创建-dockerfile","1. 创建 ",[63,582,583],{},"Dockerfile",[56,585,589],{"className":586,"code":587,"language":588,"meta":61,"style":61},"language-dockerfile shiki shiki-themes slack-ochin slack-ochin slack-dark","# 构建阶段\nFROM node:18-alpine AS builder\n\nWORKDIR /app\n\n# 复制依赖文件\nCOPY package*.json ./\nRUN npm ci --only=production && npm cache clean --force\n\n# 复制源代码\nCOPY . .\n\n# 构建应用\nRUN npm run build\n\n# 生产阶段\nFROM node:18-alpine AS runner\n\nWORKDIR /app\n\n# 创建非 root 用户\nRUN addgroup --system --gid 1001 nodejs\nRUN adduser --system --uid 1001 nuxtjs\n\n# 复制构建结果\nCOPY --from=builder --chown=nuxtjs:nodejs /app/.output /app/.output\n\nUSER nuxtjs\n\nEXPOSE 3000\n\nENV PORT 3000\nENV HOST 0.0.0.0\n\nCMD [\"node\", \".output/server/index.mjs\"]\n","dockerfile",[63,590,591,596,601,605,610,614,619,624,629,633,638,643,647,652,657,661,666,671,675,679,683,688,693,699,704,710,716,721,727,732,738,743,749,755,760],{"__ignoreMap":61},[66,592,593],{"class":68,"line":69},[66,594,595],{},"# 构建阶段\n",[66,597,598],{"class":68,"line":76},[66,599,600],{},"FROM node:18-alpine AS builder\n",[66,602,603],{"class":68,"line":91},[66,604,163],{"emptyLinePlaceholder":162},[66,606,607],{"class":68,"line":102},[66,608,609],{},"WORKDIR /app\n",[66,611,612],{"class":68,"line":113},[66,613,163],{"emptyLinePlaceholder":162},[66,615,616],{"class":68,"line":124},[66,617,618],{},"# 复制依赖文件\n",[66,620,621],{"class":68,"line":184},[66,622,623],{},"COPY package*.json ./\n",[66,625,626],{"class":68,"line":190},[66,627,628],{},"RUN npm ci --only=production && npm cache clean --force\n",[66,630,631],{"class":68,"line":307},[66,632,163],{"emptyLinePlaceholder":162},[66,634,635],{"class":68,"line":312},[66,636,637],{},"# 复制源代码\n",[66,639,640],{"class":68,"line":324},[66,641,642],{},"COPY . .\n",[66,644,645],{"class":68,"line":335},[66,646,163],{"emptyLinePlaceholder":162},[66,648,649],{"class":68,"line":341},[66,650,651],{},"# 构建应用\n",[66,653,654],{"class":68,"line":346},[66,655,656],{},"RUN npm run build\n",[66,658,659],{"class":68,"line":358},[66,660,163],{"emptyLinePlaceholder":162},[66,662,663],{"class":68,"line":368},[66,664,665],{},"# 生产阶段\n",[66,667,668],{"class":68,"line":373},[66,669,670],{},"FROM node:18-alpine AS runner\n",[66,672,673],{"class":68,"line":378},[66,674,163],{"emptyLinePlaceholder":162},[66,676,677],{"class":68,"line":387},[66,678,609],{},[66,680,681],{"class":68,"line":400},[66,682,163],{"emptyLinePlaceholder":162},[66,684,685],{"class":68,"line":411},[66,686,687],{},"# 创建非 root 用户\n",[66,689,690],{"class":68,"line":417},[66,691,692],{},"RUN addgroup --system --gid 1001 nodejs\n",[66,694,696],{"class":68,"line":695},23,[66,697,698],{},"RUN adduser --system --uid 1001 nuxtjs\n",[66,700,702],{"class":68,"line":701},24,[66,703,163],{"emptyLinePlaceholder":162},[66,705,707],{"class":68,"line":706},25,[66,708,709],{},"# 复制构建结果\n",[66,711,713],{"class":68,"line":712},26,[66,714,715],{},"COPY --from=builder --chown=nuxtjs:nodejs /app/.output /app/.output\n",[66,717,719],{"class":68,"line":718},27,[66,720,163],{"emptyLinePlaceholder":162},[66,722,724],{"class":68,"line":723},28,[66,725,726],{},"USER nuxtjs\n",[66,728,730],{"class":68,"line":729},29,[66,731,163],{"emptyLinePlaceholder":162},[66,733,735],{"class":68,"line":734},30,[66,736,737],{},"EXPOSE 3000\n",[66,739,741],{"class":68,"line":740},31,[66,742,163],{"emptyLinePlaceholder":162},[66,744,746],{"class":68,"line":745},32,[66,747,748],{},"ENV PORT 3000\n",[66,750,752],{"class":68,"line":751},33,[66,753,754],{},"ENV HOST 0.0.0.0\n",[66,756,758],{"class":68,"line":757},34,[66,759,163],{"emptyLinePlaceholder":162},[66,761,763],{"class":68,"line":762},35,[66,764,765],{},"CMD [\"node\", \".output/server/index.mjs\"]\n",[206,767,769,770],{"id":768},"_2-创建-docker-composeyml","2. 创建 ",[63,771,772],{},"docker-compose.yml",[56,774,778],{"className":775,"code":776,"language":777,"meta":61,"style":61},"language-yaml shiki shiki-themes slack-ochin slack-ochin slack-dark","version: '3.8'\n\nservices:\n  app:\n    build: .\n    ports:\n      - \"3000:3000\"\n    environment:\n      - NUXT_PUBLIC_SITE_URL=https://yoursite.com\n      - NUXT_PUBLIC_API_BASE=https://api.yoursite.com\n      - DATABASE_URL=postgresql://user:password@db:5432/mydb\n    depends_on:\n      - db\n    restart: unless-stopped\n\n  db:\n    image: postgres:15-alpine\n    environment:\n      - POSTGRES_DB=mydb\n      - POSTGRES_USER=user\n      - POSTGRES_PASSWORD=password\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n    restart: unless-stopped\n\nvolumes:\n  postgres_data:\n","yaml",[63,779,780,791,795,803,810,821,828,836,843,850,857,864,871,878,888,892,899,909,915,922,929,936,943,950,958,962,969],{"__ignoreMap":61},[66,781,782,786,788],{"class":68,"line":69},[66,783,785],{"class":784},"skrhf","version",[66,787,270],{"class":247},[66,789,790],{"class":87},"'3.8'\n",[66,792,793],{"class":68,"line":76},[66,794,163],{"emptyLinePlaceholder":162},[66,796,797,800],{"class":68,"line":91},[66,798,799],{"class":784},"services",[66,801,802],{"class":247},":\n",[66,804,805,808],{"class":68,"line":102},[66,806,807],{"class":784},"  app",[66,809,802],{"class":247},[66,811,812,815,817],{"class":68,"line":113},[66,813,814],{"class":784},"    build",[66,816,270],{"class":247},[66,818,820],{"class":819},"sAbJP",".\n",[66,822,823,826],{"class":68,"line":124},[66,824,825],{"class":784},"    ports",[66,827,802],{"class":247},[66,829,830,833],{"class":68,"line":184},[66,831,832],{"class":247},"      - ",[66,834,835],{"class":87},"\"3000:3000\"\n",[66,837,838,841],{"class":68,"line":190},[66,839,840],{"class":784},"    environment",[66,842,802],{"class":247},[66,844,845,847],{"class":68,"line":307},[66,846,832],{"class":247},[66,848,849],{"class":87},"NUXT_PUBLIC_SITE_URL=https://yoursite.com\n",[66,851,852,854],{"class":68,"line":312},[66,853,832],{"class":247},[66,855,856],{"class":87},"NUXT_PUBLIC_API_BASE=https://api.yoursite.com\n",[66,858,859,861],{"class":68,"line":324},[66,860,832],{"class":247},[66,862,863],{"class":87},"DATABASE_URL=postgresql://user:password@db:5432/mydb\n",[66,865,866,869],{"class":68,"line":335},[66,867,868],{"class":784},"    depends_on",[66,870,802],{"class":247},[66,872,873,875],{"class":68,"line":341},[66,874,832],{"class":247},[66,876,877],{"class":87},"db\n",[66,879,880,883,885],{"class":68,"line":346},[66,881,882],{"class":784},"    restart",[66,884,270],{"class":247},[66,886,887],{"class":87},"unless-stopped\n",[66,889,890],{"class":68,"line":358},[66,891,163],{"emptyLinePlaceholder":162},[66,893,894,897],{"class":68,"line":368},[66,895,896],{"class":784},"  db",[66,898,802],{"class":247},[66,900,901,904,906],{"class":68,"line":373},[66,902,903],{"class":784},"    image",[66,905,270],{"class":247},[66,907,908],{"class":87},"postgres:15-alpine\n",[66,910,911,913],{"class":68,"line":378},[66,912,840],{"class":784},[66,914,802],{"class":247},[66,916,917,919],{"class":68,"line":387},[66,918,832],{"class":247},[66,920,921],{"class":87},"POSTGRES_DB=mydb\n",[66,923,924,926],{"class":68,"line":400},[66,925,832],{"class":247},[66,927,928],{"class":87},"POSTGRES_USER=user\n",[66,930,931,933],{"class":68,"line":411},[66,932,832],{"class":247},[66,934,935],{"class":87},"POSTGRES_PASSWORD=password\n",[66,937,938,941],{"class":68,"line":417},[66,939,940],{"class":784},"    volumes",[66,942,802],{"class":247},[66,944,945,947],{"class":68,"line":695},[66,946,832],{"class":247},[66,948,949],{"class":87},"postgres_data:/var/lib/postgresql/data\n",[66,951,952,954,956],{"class":68,"line":701},[66,953,882],{"class":784},[66,955,270],{"class":247},[66,957,887],{"class":87},[66,959,960],{"class":68,"line":706},[66,961,163],{"emptyLinePlaceholder":162},[66,963,964,967],{"class":68,"line":712},[66,965,966],{"class":784},"volumes",[66,968,802],{"class":247},[66,970,971,974],{"class":68,"line":718},[66,972,973],{"class":784},"  postgres_data",[66,975,802],{"class":247},[206,977,979],{"id":978},"_3-构建和运行","3. 构建和运行",[56,981,983],{"className":58,"code":982,"language":60,"meta":61,"style":61},"# 构建镜像\ndocker build -t nuxt-app .\n\n# 运行容器\ndocker run -p 3000:3000 nuxt-app\n\n# 使用 docker-compose\ndocker-compose up -d\n",[63,984,985,990,1007,1011,1016,1031,1035,1040],{"__ignoreMap":61},[66,986,987],{"class":68,"line":69},[66,988,989],{"class":72},"# 构建镜像\n",[66,991,992,995,998,1001,1004],{"class":68,"line":76},[66,993,994],{"class":150},"docker",[66,996,997],{"class":87}," build",[66,999,1000],{"class":224}," -t",[66,1002,1003],{"class":87}," nuxt-app",[66,1005,1006],{"class":87}," .\n",[66,1008,1009],{"class":68,"line":91},[66,1010,163],{"emptyLinePlaceholder":162},[66,1012,1013],{"class":68,"line":102},[66,1014,1015],{"class":72},"# 运行容器\n",[66,1017,1018,1020,1022,1025,1028],{"class":68,"line":113},[66,1019,994],{"class":150},[66,1021,154],{"class":87},[66,1023,1024],{"class":224}," -p",[66,1026,1027],{"class":87}," 3000:3000",[66,1029,1030],{"class":87}," nuxt-app\n",[66,1032,1033],{"class":68,"line":124},[66,1034,163],{"emptyLinePlaceholder":162},[66,1036,1037],{"class":68,"line":184},[66,1038,1039],{"class":72},"# 使用 docker-compose\n",[66,1041,1042,1045,1048],{"class":68,"line":190},[66,1043,1044],{"class":150},"docker-compose",[66,1046,1047],{"class":87}," up",[66,1049,1050],{"class":224}," -d\n",[49,1052,1054],{"id":1053},"aws-部署","AWS 部署",[206,1056,1058],{"id":1057},"_1-使用-aws-amplify","1. 使用 AWS Amplify",[56,1060,1062],{"className":775,"code":1061,"language":777,"meta":61,"style":61},"# amplify.yml\nversion: 1\nfrontend:\n  phases:\n    preBuild:\n      commands:\n        - npm ci\n    build:\n      commands:\n        - npm run generate\n  artifacts:\n    baseDirectory: .output/public\n    files:\n      - '**/*'\n  cache:\n    paths:\n      - node_modules/**/*\n",[63,1063,1064,1069,1078,1085,1092,1099,1106,1114,1120,1126,1133,1140,1150,1157,1164,1171,1178],{"__ignoreMap":61},[66,1065,1066],{"class":68,"line":69},[66,1067,1068],{"class":72},"# amplify.yml\n",[66,1070,1071,1073,1075],{"class":68,"line":76},[66,1072,785],{"class":784},[66,1074,270],{"class":247},[66,1076,1077],{"class":819},"1\n",[66,1079,1080,1083],{"class":68,"line":91},[66,1081,1082],{"class":784},"frontend",[66,1084,802],{"class":247},[66,1086,1087,1090],{"class":68,"line":102},[66,1088,1089],{"class":784},"  phases",[66,1091,802],{"class":247},[66,1093,1094,1097],{"class":68,"line":113},[66,1095,1096],{"class":784},"    preBuild",[66,1098,802],{"class":247},[66,1100,1101,1104],{"class":68,"line":124},[66,1102,1103],{"class":784},"      commands",[66,1105,802],{"class":247},[66,1107,1108,1111],{"class":68,"line":184},[66,1109,1110],{"class":247},"        - ",[66,1112,1113],{"class":87},"npm ci\n",[66,1115,1116,1118],{"class":68,"line":190},[66,1117,814],{"class":784},[66,1119,802],{"class":247},[66,1121,1122,1124],{"class":68,"line":307},[66,1123,1103],{"class":784},[66,1125,802],{"class":247},[66,1127,1128,1130],{"class":68,"line":312},[66,1129,1110],{"class":247},[66,1131,1132],{"class":87},"npm run generate\n",[66,1134,1135,1138],{"class":68,"line":324},[66,1136,1137],{"class":784},"  artifacts",[66,1139,802],{"class":247},[66,1141,1142,1145,1147],{"class":68,"line":335},[66,1143,1144],{"class":784},"    baseDirectory",[66,1146,270],{"class":247},[66,1148,1149],{"class":87},".output/public\n",[66,1151,1152,1155],{"class":68,"line":341},[66,1153,1154],{"class":784},"    files",[66,1156,802],{"class":247},[66,1158,1159,1161],{"class":68,"line":346},[66,1160,832],{"class":247},[66,1162,1163],{"class":87},"'**/*'\n",[66,1165,1166,1169],{"class":68,"line":358},[66,1167,1168],{"class":784},"  cache",[66,1170,802],{"class":247},[66,1172,1173,1176],{"class":68,"line":368},[66,1174,1175],{"class":784},"    paths",[66,1177,802],{"class":247},[66,1179,1180,1182],{"class":68,"line":373},[66,1181,832],{"class":247},[66,1183,1184],{"class":87},"node_modules/**/*\n",[206,1186,1188],{"id":1187},"_2-使用-aws-lambda","2. 使用 AWS Lambda",[41,1190,1191],{},"安装 Serverless 框架：",[56,1193,1195],{"className":58,"code":1194,"language":60,"meta":61,"style":61},"npm install -g serverless\nnpm install --save-dev serverless-nuxt\n",[63,1196,1197,1209],{"__ignoreMap":61},[66,1198,1199,1201,1204,1206],{"class":68,"line":69},[66,1200,151],{"class":150},[66,1202,1203],{"class":87}," install",[66,1205,225],{"class":224},[66,1207,1208],{"class":87}," serverless\n",[66,1210,1211,1213,1215,1218],{"class":68,"line":76},[66,1212,151],{"class":150},[66,1214,1203],{"class":87},[66,1216,1217],{"class":224}," --save-dev",[66,1219,1220],{"class":87}," serverless-nuxt\n",[41,1222,1223,1224,1227],{},"配置 ",[63,1225,1226],{},"serverless.yml","：",[56,1229,1231],{"className":775,"code":1230,"language":777,"meta":61,"style":61},"service: nuxt-app\n\nprovider:\n  name: aws\n  runtime: nodejs18.x\n  region: us-east-1\n\nplugins:\n  - serverless-nuxt\n\ncustom:\n  nuxt:\n    version: 3\n\nfunctions:\n  nuxt:\n    handler: .output/server/index.handler\n    events:\n      - http:\n          path: /{proxy+}\n          method: ANY\n      - http:\n          path: /\n          method: ANY\n",[63,1232,1233,1243,1247,1254,1264,1274,1284,1288,1295,1303,1307,1314,1321,1331,1335,1342,1348,1358,1365,1374,1384,1394,1402,1411],{"__ignoreMap":61},[66,1234,1235,1238,1240],{"class":68,"line":69},[66,1236,1237],{"class":784},"service",[66,1239,270],{"class":247},[66,1241,1242],{"class":87},"nuxt-app\n",[66,1244,1245],{"class":68,"line":76},[66,1246,163],{"emptyLinePlaceholder":162},[66,1248,1249,1252],{"class":68,"line":91},[66,1250,1251],{"class":784},"provider",[66,1253,802],{"class":247},[66,1255,1256,1259,1261],{"class":68,"line":102},[66,1257,1258],{"class":784},"  name",[66,1260,270],{"class":247},[66,1262,1263],{"class":87},"aws\n",[66,1265,1266,1269,1271],{"class":68,"line":113},[66,1267,1268],{"class":784},"  runtime",[66,1270,270],{"class":247},[66,1272,1273],{"class":87},"nodejs18.x\n",[66,1275,1276,1279,1281],{"class":68,"line":124},[66,1277,1278],{"class":784},"  region",[66,1280,270],{"class":247},[66,1282,1283],{"class":87},"us-east-1\n",[66,1285,1286],{"class":68,"line":184},[66,1287,163],{"emptyLinePlaceholder":162},[66,1289,1290,1293],{"class":68,"line":190},[66,1291,1292],{"class":784},"plugins",[66,1294,802],{"class":247},[66,1296,1297,1300],{"class":68,"line":307},[66,1298,1299],{"class":247},"  - ",[66,1301,1302],{"class":87},"serverless-nuxt\n",[66,1304,1305],{"class":68,"line":312},[66,1306,163],{"emptyLinePlaceholder":162},[66,1308,1309,1312],{"class":68,"line":324},[66,1310,1311],{"class":784},"custom",[66,1313,802],{"class":247},[66,1315,1316,1319],{"class":68,"line":335},[66,1317,1318],{"class":784},"  nuxt",[66,1320,802],{"class":247},[66,1322,1323,1326,1328],{"class":68,"line":341},[66,1324,1325],{"class":784},"    version",[66,1327,270],{"class":247},[66,1329,1330],{"class":819},"3\n",[66,1332,1333],{"class":68,"line":346},[66,1334,163],{"emptyLinePlaceholder":162},[66,1336,1337,1340],{"class":68,"line":358},[66,1338,1339],{"class":784},"functions",[66,1341,802],{"class":247},[66,1343,1344,1346],{"class":68,"line":368},[66,1345,1318],{"class":784},[66,1347,802],{"class":247},[66,1349,1350,1353,1355],{"class":68,"line":373},[66,1351,1352],{"class":784},"    handler",[66,1354,270],{"class":247},[66,1356,1357],{"class":87},".output/server/index.handler\n",[66,1359,1360,1363],{"class":68,"line":378},[66,1361,1362],{"class":784},"    events",[66,1364,802],{"class":247},[66,1366,1367,1369,1372],{"class":68,"line":387},[66,1368,832],{"class":247},[66,1370,1371],{"class":784},"http",[66,1373,802],{"class":247},[66,1375,1376,1379,1381],{"class":68,"line":400},[66,1377,1378],{"class":784},"          path",[66,1380,270],{"class":247},[66,1382,1383],{"class":87},"/{proxy+}\n",[66,1385,1386,1389,1391],{"class":68,"line":411},[66,1387,1388],{"class":784},"          method",[66,1390,270],{"class":247},[66,1392,1393],{"class":87},"ANY\n",[66,1395,1396,1398,1400],{"class":68,"line":417},[66,1397,832],{"class":247},[66,1399,1371],{"class":784},[66,1401,802],{"class":247},[66,1403,1404,1406,1408],{"class":68,"line":695},[66,1405,1378],{"class":784},[66,1407,270],{"class":247},[66,1409,1410],{"class":87},"/\n",[66,1412,1413,1415,1417],{"class":68,"line":701},[66,1414,1388],{"class":784},[66,1416,270],{"class":247},[66,1418,1393],{"class":87},[41,1420,1421],{},"部署：",[56,1423,1425],{"className":58,"code":1424,"language":60,"meta":61,"style":61},"serverless deploy\n",[63,1426,1427],{"__ignoreMap":61},[66,1428,1429,1432],{"class":68,"line":69},[66,1430,1431],{"class":150},"serverless",[66,1433,1434],{"class":87}," deploy\n",[45,1436,1437],{"id":1437},"性能优化",[49,1439,1440],{"id":1440},"缓存策略",[206,1442,1444],{"id":1443},"_1-静态资源缓存","1. 静态资源缓存",[56,1446,1450],{"className":1447,"code":1448,"language":1449,"meta":61,"style":61},"language-typescript shiki shiki-themes slack-ochin slack-ochin slack-dark","// nuxt.config.ts\nexport default defineNuxtConfig({\n  nitro: {\n    routeRules: {\n      // 静态页面缓存 1 小时\n      '/': { prerender: true, headers: { 'cache-control': 's-maxage=3600' } },\n      \n      // API 路由缓存 10 分钟\n      '/api/**': { headers: { 'cache-control': 's-maxage=600' } },\n      \n      // 静态资源长期缓存\n      '/images/**': { headers: { 'cache-control': 's-maxage=31536000' } }\n    }\n  }\n})\n","typescript",[63,1451,1452,1457,1472,1481,1488,1493,1530,1535,1540,1562,1566,1571,1594,1598,1602],{"__ignoreMap":61},[66,1453,1454],{"class":68,"line":69},[66,1455,1456],{"class":72},"// nuxt.config.ts\n",[66,1458,1459,1463,1466,1469],{"class":68,"line":76},[66,1460,1462],{"class":1461},"s7VM3","export",[66,1464,1465],{"class":1461}," default",[66,1467,1468],{"class":150}," defineNuxtConfig",[66,1470,1471],{"class":247},"({\n",[66,1473,1474,1478],{"class":68,"line":91},[66,1475,1477],{"class":1476},"s6DEn","  nitro:",[66,1479,1480],{"class":247}," {\n",[66,1482,1483,1486],{"class":68,"line":102},[66,1484,1485],{"class":1476},"    routeRules:",[66,1487,1480],{"class":247},[66,1489,1490],{"class":68,"line":113},[66,1491,1492],{"class":72},"      // 静态页面缓存 1 小时\n",[66,1494,1495,1498,1501,1504,1507,1511,1514,1517,1519,1522,1524,1527],{"class":68,"line":124},[66,1496,1497],{"class":87},"      '/'",[66,1499,1500],{"class":1476},":",[66,1502,1503],{"class":247}," { ",[66,1505,1506],{"class":1476},"prerender:",[66,1508,1510],{"class":1509},"sBSzB"," true",[66,1512,1513],{"class":247},", ",[66,1515,1516],{"class":1476},"headers:",[66,1518,1503],{"class":247},[66,1520,1521],{"class":87},"'cache-control'",[66,1523,1500],{"class":1476},[66,1525,1526],{"class":87}," 's-maxage=3600'",[66,1528,1529],{"class":247}," } },\n",[66,1531,1532],{"class":68,"line":184},[66,1533,1534],{"class":247},"      \n",[66,1536,1537],{"class":68,"line":190},[66,1538,1539],{"class":72},"      // API 路由缓存 10 分钟\n",[66,1541,1542,1545,1547,1549,1551,1553,1555,1557,1560],{"class":68,"line":307},[66,1543,1544],{"class":87},"      '/api/**'",[66,1546,1500],{"class":1476},[66,1548,1503],{"class":247},[66,1550,1516],{"class":1476},[66,1552,1503],{"class":247},[66,1554,1521],{"class":87},[66,1556,1500],{"class":1476},[66,1558,1559],{"class":87}," 's-maxage=600'",[66,1561,1529],{"class":247},[66,1563,1564],{"class":68,"line":312},[66,1565,1534],{"class":247},[66,1567,1568],{"class":68,"line":324},[66,1569,1570],{"class":72},"      // 静态资源长期缓存\n",[66,1572,1573,1576,1578,1580,1582,1584,1586,1588,1591],{"class":68,"line":335},[66,1574,1575],{"class":87},"      '/images/**'",[66,1577,1500],{"class":1476},[66,1579,1503],{"class":247},[66,1581,1516],{"class":1476},[66,1583,1503],{"class":247},[66,1585,1521],{"class":87},[66,1587,1500],{"class":1476},[66,1589,1590],{"class":87}," 's-maxage=31536000'",[66,1592,1593],{"class":247}," } }\n",[66,1595,1596],{"class":68,"line":341},[66,1597,292],{"class":247},[66,1599,1600],{"class":68,"line":346},[66,1601,414],{"class":247},[66,1603,1604],{"class":68,"line":358},[66,1605,1606],{"class":247},"})\n",[206,1608,1610],{"id":1609},"_2-cdn-配置","2. CDN 配置",[56,1612,1614],{"className":1447,"code":1613,"language":1449,"meta":61,"style":61},"// nuxt.config.ts\nexport default defineNuxtConfig({\n  app: {\n    cdnURL: 'https://cdn.yoursite.com'\n  },\n  \n  image: {\n    domains: ['cdn.yoursite.com']\n  }\n})\n",[63,1615,1616,1620,1630,1637,1645,1650,1655,1662,1676,1680],{"__ignoreMap":61},[66,1617,1618],{"class":68,"line":69},[66,1619,1456],{"class":72},[66,1621,1622,1624,1626,1628],{"class":68,"line":76},[66,1623,1462],{"class":1461},[66,1625,1465],{"class":1461},[66,1627,1468],{"class":150},[66,1629,1471],{"class":247},[66,1631,1632,1635],{"class":68,"line":91},[66,1633,1634],{"class":1476},"  app:",[66,1636,1480],{"class":247},[66,1638,1639,1642],{"class":68,"line":102},[66,1640,1641],{"class":1476},"    cdnURL:",[66,1643,1644],{"class":87}," 'https://cdn.yoursite.com'\n",[66,1646,1647],{"class":68,"line":113},[66,1648,1649],{"class":247},"  },\n",[66,1651,1652],{"class":68,"line":124},[66,1653,1654],{"class":247},"  \n",[66,1656,1657,1660],{"class":68,"line":184},[66,1658,1659],{"class":1476},"  image:",[66,1661,1480],{"class":247},[66,1663,1664,1667,1670,1673],{"class":68,"line":190},[66,1665,1666],{"class":1476},"    domains:",[66,1668,1669],{"class":247}," [",[66,1671,1672],{"class":87},"'cdn.yoursite.com'",[66,1674,1675],{"class":247},"]\n",[66,1677,1678],{"class":68,"line":307},[66,1679,414],{"class":247},[66,1681,1682],{"class":68,"line":312},[66,1683,1606],{"class":247},[49,1685,1686],{"id":1686},"压缩和优化",[56,1688,1690],{"className":1447,"code":1689,"language":1449,"meta":61,"style":61},"// nuxt.config.ts\nexport default defineNuxtConfig({\n  nitro: {\n    // 启用压缩\n    compressPublicAssets: true,\n    \n    // 预渲染路由\n    prerender: {\n      routes: ['/sitemap.xml', '/robots.txt']\n    }\n  },\n  \n  // 实验性功能\n  experimental: {\n    // 减少 payload 大小\n    payloadExtraction: false,\n    \n    // 内联样式\n    inlineSSRStyles: false\n  }\n})\n",[63,1691,1692,1696,1706,1712,1717,1726,1731,1736,1743,1760,1764,1768,1772,1777,1784,1789,1799,1803,1808,1816,1820],{"__ignoreMap":61},[66,1693,1694],{"class":68,"line":69},[66,1695,1456],{"class":72},[66,1697,1698,1700,1702,1704],{"class":68,"line":76},[66,1699,1462],{"class":1461},[66,1701,1465],{"class":1461},[66,1703,1468],{"class":150},[66,1705,1471],{"class":247},[66,1707,1708,1710],{"class":68,"line":91},[66,1709,1477],{"class":1476},[66,1711,1480],{"class":247},[66,1713,1714],{"class":68,"line":102},[66,1715,1716],{"class":72},"    // 启用压缩\n",[66,1718,1719,1722,1724],{"class":68,"line":113},[66,1720,1721],{"class":1476},"    compressPublicAssets:",[66,1723,1510],{"class":1509},[66,1725,277],{"class":247},[66,1727,1728],{"class":68,"line":124},[66,1729,1730],{"class":247},"    \n",[66,1732,1733],{"class":68,"line":184},[66,1734,1735],{"class":72},"    // 预渲染路由\n",[66,1737,1738,1741],{"class":68,"line":190},[66,1739,1740],{"class":1476},"    prerender:",[66,1742,1480],{"class":247},[66,1744,1745,1748,1750,1753,1755,1758],{"class":68,"line":307},[66,1746,1747],{"class":1476},"      routes:",[66,1749,1669],{"class":247},[66,1751,1752],{"class":87},"'/sitemap.xml'",[66,1754,1513],{"class":247},[66,1756,1757],{"class":87},"'/robots.txt'",[66,1759,1675],{"class":247},[66,1761,1762],{"class":68,"line":312},[66,1763,292],{"class":247},[66,1765,1766],{"class":68,"line":324},[66,1767,1649],{"class":247},[66,1769,1770],{"class":68,"line":335},[66,1771,1654],{"class":247},[66,1773,1774],{"class":68,"line":341},[66,1775,1776],{"class":72},"  // 实验性功能\n",[66,1778,1779,1782],{"class":68,"line":346},[66,1780,1781],{"class":1476},"  experimental:",[66,1783,1480],{"class":247},[66,1785,1786],{"class":68,"line":358},[66,1787,1788],{"class":72},"    // 减少 payload 大小\n",[66,1790,1791,1794,1797],{"class":68,"line":368},[66,1792,1793],{"class":1476},"    payloadExtraction:",[66,1795,1796],{"class":1509}," false",[66,1798,277],{"class":247},[66,1800,1801],{"class":68,"line":373},[66,1802,1730],{"class":247},[66,1804,1805],{"class":68,"line":378},[66,1806,1807],{"class":72},"    // 内联样式\n",[66,1809,1810,1813],{"class":68,"line":387},[66,1811,1812],{"class":1476},"    inlineSSRStyles:",[66,1814,1815],{"class":1509}," false\n",[66,1817,1818],{"class":68,"line":400},[66,1819,414],{"class":247},[66,1821,1822],{"class":68,"line":411},[66,1823,1606],{"class":247},[45,1825,1826],{"id":1826},"监控和日志",[49,1828,1829],{"id":1829},"错误监控",[206,1831,1833],{"id":1832},"_1-sentry-集成","1. Sentry 集成",[56,1835,1837],{"className":58,"code":1836,"language":60,"meta":61,"style":61},"npm install @sentry/nuxt\n",[63,1838,1839],{"__ignoreMap":61},[66,1840,1841,1843,1845],{"class":68,"line":69},[66,1842,151],{"class":150},[66,1844,1203],{"class":87},[66,1846,1847],{"class":87}," @sentry/nuxt\n",[56,1849,1851],{"className":1447,"code":1850,"language":1449,"meta":61,"style":61},"// nuxt.config.ts\nexport default defineNuxtConfig({\n  modules: ['@sentry/nuxt/module'],\n  \n  sentry: {\n    dsn: process.env.SENTRY_DSN\n  }\n})\n",[63,1852,1853,1857,1867,1880,1884,1891,1910,1914],{"__ignoreMap":61},[66,1854,1855],{"class":68,"line":69},[66,1856,1456],{"class":72},[66,1858,1859,1861,1863,1865],{"class":68,"line":76},[66,1860,1462],{"class":1461},[66,1862,1465],{"class":1461},[66,1864,1468],{"class":150},[66,1866,1471],{"class":247},[66,1868,1869,1872,1874,1877],{"class":68,"line":91},[66,1870,1871],{"class":1476},"  modules:",[66,1873,1669],{"class":247},[66,1875,1876],{"class":87},"'@sentry/nuxt/module'",[66,1878,1879],{"class":247},"],\n",[66,1881,1882],{"class":68,"line":102},[66,1883,1654],{"class":247},[66,1885,1886,1889],{"class":68,"line":113},[66,1887,1888],{"class":1476},"  sentry:",[66,1890,1480],{"class":247},[66,1892,1893,1896,1899,1902,1905,1907],{"class":68,"line":124},[66,1894,1895],{"class":1476},"    dsn:",[66,1897,1898],{"class":79}," process",[66,1900,1901],{"class":247},".",[66,1903,1904],{"class":79},"env",[66,1906,1901],{"class":247},[66,1908,1909],{"class":79},"SENTRY_DSN\n",[66,1911,1912],{"class":68,"line":184},[66,1913,414],{"class":247},[66,1915,1916],{"class":68,"line":190},[66,1917,1606],{"class":247},[206,1919,1921],{"id":1920},"_2-自定义错误处理","2. 自定义错误处理",[56,1923,1925],{"className":1447,"code":1924,"language":1449,"meta":61,"style":61},"// plugins/error-tracking.client.ts\nexport default defineNuxtPlugin(() => {\n  // 全局错误处理\n  window.addEventListener('error', (event) => {\n    console.error('Global error:', event.error)\n    \n    // 发送到监控服务\n    $fetch('/api/errors', {\n      method: 'POST',\n      body: {\n        message: event.error.message,\n        stack: event.error.stack,\n        url: window.location.href,\n        userAgent: navigator.userAgent\n      }\n    })\n  })\n})\n",[63,1926,1927,1932,1950,1955,1985,2011,2015,2020,2033,2043,2050,2069,2087,2107,2120,2125,2130,2135],{"__ignoreMap":61},[66,1928,1929],{"class":68,"line":69},[66,1930,1931],{"class":72},"// plugins/error-tracking.client.ts\n",[66,1933,1934,1936,1938,1941,1944,1948],{"class":68,"line":76},[66,1935,1462],{"class":1461},[66,1937,1465],{"class":1461},[66,1939,1940],{"class":150}," defineNuxtPlugin",[66,1942,1943],{"class":247},"(() ",[66,1945,1947],{"class":1946},"sD1d_","=>",[66,1949,1480],{"class":247},[66,1951,1952],{"class":68,"line":91},[66,1953,1954],{"class":72},"  // 全局错误处理\n",[66,1956,1957,1960,1962,1965,1968,1971,1974,1978,1981,1983],{"class":68,"line":102},[66,1958,1959],{"class":79},"  window",[66,1961,1901],{"class":247},[66,1963,1964],{"class":150},"addEventListener",[66,1966,1967],{"class":247},"(",[66,1969,1970],{"class":87},"'error'",[66,1972,1973],{"class":247},", (",[66,1975,1977],{"class":1976},"sozAS","event",[66,1979,1980],{"class":247},") ",[66,1982,1947],{"class":1946},[66,1984,1480],{"class":247},[66,1986,1987,1990,1992,1995,1997,2000,2002,2004,2006,2008],{"class":68,"line":113},[66,1988,1989],{"class":79},"    console",[66,1991,1901],{"class":247},[66,1993,1994],{"class":150},"error",[66,1996,1967],{"class":247},[66,1998,1999],{"class":87},"'Global error:'",[66,2001,1513],{"class":247},[66,2003,1977],{"class":79},[66,2005,1901],{"class":247},[66,2007,1994],{"class":79},[66,2009,2010],{"class":247},")\n",[66,2012,2013],{"class":68,"line":124},[66,2014,1730],{"class":247},[66,2016,2017],{"class":68,"line":184},[66,2018,2019],{"class":72},"    // 发送到监控服务\n",[66,2021,2022,2025,2027,2030],{"class":68,"line":190},[66,2023,2024],{"class":150},"    $fetch",[66,2026,1967],{"class":247},[66,2028,2029],{"class":87},"'/api/errors'",[66,2031,2032],{"class":247},", {\n",[66,2034,2035,2038,2041],{"class":68,"line":307},[66,2036,2037],{"class":1476},"      method:",[66,2039,2040],{"class":87}," 'POST'",[66,2042,277],{"class":247},[66,2044,2045,2048],{"class":68,"line":312},[66,2046,2047],{"class":1476},"      body:",[66,2049,1480],{"class":247},[66,2051,2052,2055,2058,2060,2062,2064,2067],{"class":68,"line":324},[66,2053,2054],{"class":1476},"        message:",[66,2056,2057],{"class":79}," event",[66,2059,1901],{"class":247},[66,2061,1994],{"class":79},[66,2063,1901],{"class":247},[66,2065,2066],{"class":79},"message",[66,2068,277],{"class":247},[66,2070,2071,2074,2076,2078,2080,2082,2085],{"class":68,"line":335},[66,2072,2073],{"class":1476},"        stack:",[66,2075,2057],{"class":79},[66,2077,1901],{"class":247},[66,2079,1994],{"class":79},[66,2081,1901],{"class":247},[66,2083,2084],{"class":79},"stack",[66,2086,277],{"class":247},[66,2088,2089,2092,2095,2097,2100,2102,2105],{"class":68,"line":341},[66,2090,2091],{"class":1476},"        url:",[66,2093,2094],{"class":79}," window",[66,2096,1901],{"class":247},[66,2098,2099],{"class":79},"location",[66,2101,1901],{"class":247},[66,2103,2104],{"class":79},"href",[66,2106,277],{"class":247},[66,2108,2109,2112,2115,2117],{"class":68,"line":346},[66,2110,2111],{"class":1476},"        userAgent:",[66,2113,2114],{"class":79}," navigator",[66,2116,1901],{"class":247},[66,2118,2119],{"class":79},"userAgent\n",[66,2121,2122],{"class":68,"line":358},[66,2123,2124],{"class":247},"      }\n",[66,2126,2127],{"class":68,"line":368},[66,2128,2129],{"class":247},"    })\n",[66,2131,2132],{"class":68,"line":373},[66,2133,2134],{"class":247},"  })\n",[66,2136,2137],{"class":68,"line":378},[66,2138,1606],{"class":247},[49,2140,2141],{"id":2141},"性能监控",[56,2143,2145],{"className":1447,"code":2144,"language":1449,"meta":61,"style":61},"// plugins/analytics.client.ts\nexport default defineNuxtPlugin(() => {\n  // 页面加载时间\n  window.addEventListener('load', () => {\n    const loadTime = performance.now()\n    \n    // 发送性能数据\n    $fetch('/api/analytics', {\n      method: 'POST',\n      body: {\n        type: 'page_load',\n        duration: loadTime,\n        url: window.location.href\n      }\n    })\n  })\n})\n",[63,2146,2147,2152,2166,2171,2191,2213,2217,2222,2233,2241,2247,2257,2266,2281,2285,2289,2293],{"__ignoreMap":61},[66,2148,2149],{"class":68,"line":69},[66,2150,2151],{"class":72},"// plugins/analytics.client.ts\n",[66,2153,2154,2156,2158,2160,2162,2164],{"class":68,"line":76},[66,2155,1462],{"class":1461},[66,2157,1465],{"class":1461},[66,2159,1940],{"class":150},[66,2161,1943],{"class":247},[66,2163,1947],{"class":1946},[66,2165,1480],{"class":247},[66,2167,2168],{"class":68,"line":91},[66,2169,2170],{"class":72},"  // 页面加载时间\n",[66,2172,2173,2175,2177,2179,2181,2184,2187,2189],{"class":68,"line":102},[66,2174,1959],{"class":79},[66,2176,1901],{"class":247},[66,2178,1964],{"class":150},[66,2180,1967],{"class":247},[66,2182,2183],{"class":87},"'load'",[66,2185,2186],{"class":247},", () ",[66,2188,1947],{"class":1946},[66,2190,1480],{"class":247},[66,2192,2193,2196,2199,2202,2205,2207,2210],{"class":68,"line":113},[66,2194,2195],{"class":1946},"    const",[66,2197,2198],{"class":79}," loadTime",[66,2200,2201],{"class":83}," =",[66,2203,2204],{"class":79}," performance",[66,2206,1901],{"class":247},[66,2208,2209],{"class":150},"now",[66,2211,2212],{"class":247},"()\n",[66,2214,2215],{"class":68,"line":124},[66,2216,1730],{"class":247},[66,2218,2219],{"class":68,"line":184},[66,2220,2221],{"class":72},"    // 发送性能数据\n",[66,2223,2224,2226,2228,2231],{"class":68,"line":190},[66,2225,2024],{"class":150},[66,2227,1967],{"class":247},[66,2229,2230],{"class":87},"'/api/analytics'",[66,2232,2032],{"class":247},[66,2234,2235,2237,2239],{"class":68,"line":307},[66,2236,2037],{"class":1476},[66,2238,2040],{"class":87},[66,2240,277],{"class":247},[66,2242,2243,2245],{"class":68,"line":312},[66,2244,2047],{"class":1476},[66,2246,1480],{"class":247},[66,2248,2249,2252,2255],{"class":68,"line":324},[66,2250,2251],{"class":1476},"        type:",[66,2253,2254],{"class":87}," 'page_load'",[66,2256,277],{"class":247},[66,2258,2259,2262,2264],{"class":68,"line":335},[66,2260,2261],{"class":1476},"        duration:",[66,2263,2198],{"class":79},[66,2265,277],{"class":247},[66,2267,2268,2270,2272,2274,2276,2278],{"class":68,"line":341},[66,2269,2091],{"class":1476},[66,2271,2094],{"class":79},[66,2273,1901],{"class":247},[66,2275,2099],{"class":79},[66,2277,1901],{"class":247},[66,2279,2280],{"class":79},"href\n",[66,2282,2283],{"class":68,"line":346},[66,2284,2124],{"class":247},[66,2286,2287],{"class":68,"line":358},[66,2288,2129],{"class":247},[66,2290,2291],{"class":68,"line":368},[66,2292,2134],{"class":247},[66,2294,2295],{"class":68,"line":373},[66,2296,1606],{"class":247},[45,2298,2299],{"id":2299},"安全配置",[49,2301,2303],{"id":2302},"https-和安全头","HTTPS 和安全头",[56,2305,2307],{"className":1447,"code":2306,"language":1449,"meta":61,"style":61},"// nuxt.config.ts\nexport default defineNuxtConfig({\n  nitro: {\n    routeRules: {\n      '/**': {\n        headers: {\n          'X-Frame-Options': 'DENY',\n          'X-Content-Type-Options': 'nosniff',\n          'X-XSS-Protection': '1; mode=block',\n          'Strict-Transport-Security': 'max-age=31536000; includeSubDomains',\n          'Content-Security-Policy': \"default-src 'self'; script-src 'self' 'unsafe-inline'\"\n        }\n      }\n    }\n  }\n})\n",[63,2308,2309,2313,2323,2329,2335,2344,2351,2363,2375,2387,2399,2409,2414,2418,2422,2426],{"__ignoreMap":61},[66,2310,2311],{"class":68,"line":69},[66,2312,1456],{"class":72},[66,2314,2315,2317,2319,2321],{"class":68,"line":76},[66,2316,1462],{"class":1461},[66,2318,1465],{"class":1461},[66,2320,1468],{"class":150},[66,2322,1471],{"class":247},[66,2324,2325,2327],{"class":68,"line":91},[66,2326,1477],{"class":1476},[66,2328,1480],{"class":247},[66,2330,2331,2333],{"class":68,"line":102},[66,2332,1485],{"class":1476},[66,2334,1480],{"class":247},[66,2336,2337,2340,2342],{"class":68,"line":113},[66,2338,2339],{"class":87},"      '/**'",[66,2341,1500],{"class":1476},[66,2343,1480],{"class":247},[66,2345,2346,2349],{"class":68,"line":124},[66,2347,2348],{"class":1476},"        headers:",[66,2350,1480],{"class":247},[66,2352,2353,2356,2358,2361],{"class":68,"line":184},[66,2354,2355],{"class":87},"          'X-Frame-Options'",[66,2357,1500],{"class":1476},[66,2359,2360],{"class":87}," 'DENY'",[66,2362,277],{"class":247},[66,2364,2365,2368,2370,2373],{"class":68,"line":190},[66,2366,2367],{"class":87},"          'X-Content-Type-Options'",[66,2369,1500],{"class":1476},[66,2371,2372],{"class":87}," 'nosniff'",[66,2374,277],{"class":247},[66,2376,2377,2380,2382,2385],{"class":68,"line":307},[66,2378,2379],{"class":87},"          'X-XSS-Protection'",[66,2381,1500],{"class":1476},[66,2383,2384],{"class":87}," '1; mode=block'",[66,2386,277],{"class":247},[66,2388,2389,2392,2394,2397],{"class":68,"line":312},[66,2390,2391],{"class":87},"          'Strict-Transport-Security'",[66,2393,1500],{"class":1476},[66,2395,2396],{"class":87}," 'max-age=31536000; includeSubDomains'",[66,2398,277],{"class":247},[66,2400,2401,2404,2406],{"class":68,"line":324},[66,2402,2403],{"class":87},"          'Content-Security-Policy'",[66,2405,1500],{"class":1476},[66,2407,2408],{"class":87}," \"default-src 'self'; script-src 'self' 'unsafe-inline'\"\n",[66,2410,2411],{"class":68,"line":335},[66,2412,2413],{"class":247},"        }\n",[66,2415,2416],{"class":68,"line":341},[66,2417,2124],{"class":247},[66,2419,2420],{"class":68,"line":346},[66,2421,292],{"class":247},[66,2423,2424],{"class":68,"line":358},[66,2425,414],{"class":247},[66,2427,2428],{"class":68,"line":368},[66,2429,1606],{"class":247},[49,2431,2432],{"id":2432},"环境变量安全",[56,2434,2436],{"className":58,"code":2435,"language":60,"meta":61,"style":61},"# 使用加密的环境变量\nNUXT_SECRET_KEY=$(openssl rand -base64 32)\nDATABASE_PASSWORD=$(openssl rand -base64 16)\n",[63,2437,2438,2443,2466],{"__ignoreMap":61},[66,2439,2440],{"class":68,"line":69},[66,2441,2442],{"class":72},"# 使用加密的环境变量\n",[66,2444,2445,2447,2449,2452,2455,2458,2461,2464],{"class":68,"line":76},[66,2446,116],{"class":79},[66,2448,84],{"class":83},[66,2450,2451],{"class":247},"$(",[66,2453,2454],{"class":150},"openssl",[66,2456,2457],{"class":87}," rand",[66,2459,2460],{"class":224}," -base64",[66,2462,2463],{"class":819}," 32",[66,2465,2010],{"class":247},[66,2467,2468,2471,2473,2475,2477,2479,2481,2484],{"class":68,"line":91},[66,2469,2470],{"class":79},"DATABASE_PASSWORD",[66,2472,84],{"class":83},[66,2474,2451],{"class":247},[66,2476,2454],{"class":150},[66,2478,2457],{"class":87},[66,2480,2460],{"class":224},[66,2482,2483],{"class":819}," 16",[66,2485,2010],{"class":247},[45,2487,2488],{"id":2488},"备份和恢复",[49,2490,2491],{"id":2491},"数据库备份",[56,2493,2495],{"className":58,"code":2494,"language":60,"meta":61,"style":61},"#!/bin/bash\n# backup.sh\n\nDATE=$(date +%Y%m%d_%H%M%S)\nBACKUP_DIR=\"/backups\"\nDB_NAME=\"myapp\"\n\n# 创建备份\npg_dump $DATABASE_URL > $BACKUP_DIR/backup_$DATE.sql\n\n# 保留最近 7 天的备份\nfind $BACKUP_DIR -name \"backup_*.sql\" -mtime +7 -delete\n\necho \"Backup completed: backup_$DATE.sql\"\n",[63,2496,2497,2502,2507,2511,2528,2538,2548,2552,2557,2580,2584,2589,2611,2615],{"__ignoreMap":61},[66,2498,2499],{"class":68,"line":69},[66,2500,2501],{"class":72},"#!/bin/bash\n",[66,2503,2504],{"class":68,"line":76},[66,2505,2506],{"class":72},"# backup.sh\n",[66,2508,2509],{"class":68,"line":91},[66,2510,163],{"emptyLinePlaceholder":162},[66,2512,2513,2516,2518,2520,2523,2526],{"class":68,"line":102},[66,2514,2515],{"class":79},"DATE",[66,2517,84],{"class":83},[66,2519,2451],{"class":247},[66,2521,2522],{"class":150},"date",[66,2524,2525],{"class":87}," +%Y%m%d_%H%M%S",[66,2527,2010],{"class":247},[66,2529,2530,2533,2535],{"class":68,"line":113},[66,2531,2532],{"class":79},"BACKUP_DIR",[66,2534,84],{"class":83},[66,2536,2537],{"class":87},"\"/backups\"\n",[66,2539,2540,2543,2545],{"class":68,"line":124},[66,2541,2542],{"class":79},"DB_NAME",[66,2544,84],{"class":83},[66,2546,2547],{"class":87},"\"myapp\"\n",[66,2549,2550],{"class":68,"line":184},[66,2551,163],{"emptyLinePlaceholder":162},[66,2553,2554],{"class":68,"line":190},[66,2555,2556],{"class":72},"# 创建备份\n",[66,2558,2559,2562,2565,2568,2571,2574,2577],{"class":68,"line":307},[66,2560,2561],{"class":150},"pg_dump",[66,2563,2564],{"class":79}," $DATABASE_URL",[66,2566,2567],{"class":83}," >",[66,2569,2570],{"class":79}," $BACKUP_DIR",[66,2572,2573],{"class":87},"/backup_",[66,2575,2576],{"class":79},"$DATE",[66,2578,2579],{"class":87},".sql\n",[66,2581,2582],{"class":68,"line":312},[66,2583,163],{"emptyLinePlaceholder":162},[66,2585,2586],{"class":68,"line":324},[66,2587,2588],{"class":72},"# 保留最近 7 天的备份\n",[66,2590,2591,2594,2596,2599,2602,2605,2608],{"class":68,"line":335},[66,2592,2593],{"class":150},"find",[66,2595,2570],{"class":79},[66,2597,2598],{"class":224}," -name",[66,2600,2601],{"class":87}," \"backup_*.sql\"",[66,2603,2604],{"class":224}," -mtime",[66,2606,2607],{"class":87}," +7",[66,2609,2610],{"class":224}," -delete\n",[66,2612,2613],{"class":68,"line":341},[66,2614,163],{"emptyLinePlaceholder":162},[66,2616,2617,2621,2624,2626],{"class":68,"line":346},[66,2618,2620],{"class":2619},"sqtEc","echo",[66,2622,2623],{"class":87}," \"Backup completed: backup_",[66,2625,2576],{"class":79},[66,2627,2628],{"class":87},".sql\"\n",[49,2630,2631],{"id":2631},"自动化备份",[56,2633,2635],{"className":775,"code":2634,"language":777,"meta":61,"style":61},"# .github/workflows/backup.yml\nname: Database Backup\n\non:\n  schedule:\n    - cron: '0 2 * * *'  # 每天凌晨 2 点\n\njobs:\n  backup:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Backup Database\n        run: |\n          pg_dump ${{ secrets.DATABASE_URL }} > backup_$(date +%Y%m%d).sql\n          \n      - name: Upload to S3\n        run: |\n          aws s3 cp backup_$(date +%Y%m%d).sql s3://my-backups/\n",[63,2636,2637,2642,2652,2656,2663,2670,2686,2690,2697,2704,2714,2721,2732,2742,2747,2752,2763,2771],{"__ignoreMap":61},[66,2638,2639],{"class":68,"line":69},[66,2640,2641],{"class":72},"# .github/workflows/backup.yml\n",[66,2643,2644,2647,2649],{"class":68,"line":76},[66,2645,2646],{"class":784},"name",[66,2648,270],{"class":247},[66,2650,2651],{"class":87},"Database Backup\n",[66,2653,2654],{"class":68,"line":91},[66,2655,163],{"emptyLinePlaceholder":162},[66,2657,2658,2661],{"class":68,"line":102},[66,2659,2660],{"class":1509},"on",[66,2662,802],{"class":247},[66,2664,2665,2668],{"class":68,"line":113},[66,2666,2667],{"class":784},"  schedule",[66,2669,802],{"class":247},[66,2671,2672,2675,2678,2680,2683],{"class":68,"line":124},[66,2673,2674],{"class":247},"    - ",[66,2676,2677],{"class":784},"cron",[66,2679,270],{"class":247},[66,2681,2682],{"class":87},"'0 2 * * *'",[66,2684,2685],{"class":72},"  # 每天凌晨 2 点\n",[66,2687,2688],{"class":68,"line":184},[66,2689,163],{"emptyLinePlaceholder":162},[66,2691,2692,2695],{"class":68,"line":190},[66,2693,2694],{"class":784},"jobs",[66,2696,802],{"class":247},[66,2698,2699,2702],{"class":68,"line":307},[66,2700,2701],{"class":784},"  backup",[66,2703,802],{"class":247},[66,2705,2706,2709,2711],{"class":68,"line":312},[66,2707,2708],{"class":784},"    runs-on",[66,2710,270],{"class":247},[66,2712,2713],{"class":87},"ubuntu-latest\n",[66,2715,2716,2719],{"class":68,"line":324},[66,2717,2718],{"class":784},"    steps",[66,2720,802],{"class":247},[66,2722,2723,2725,2727,2729],{"class":68,"line":335},[66,2724,832],{"class":247},[66,2726,2646],{"class":784},[66,2728,270],{"class":247},[66,2730,2731],{"class":87},"Backup Database\n",[66,2733,2734,2737,2739],{"class":68,"line":341},[66,2735,2736],{"class":784},"        run",[66,2738,270],{"class":247},[66,2740,2741],{"class":1461},"|\n",[66,2743,2744],{"class":68,"line":346},[66,2745,2746],{"class":87},"          pg_dump ${{ secrets.DATABASE_URL }} > backup_$(date +%Y%m%d).sql\n",[66,2748,2749],{"class":68,"line":358},[66,2750,2751],{"class":87},"          \n",[66,2753,2754,2756,2758,2760],{"class":68,"line":368},[66,2755,832],{"class":247},[66,2757,2646],{"class":784},[66,2759,270],{"class":247},[66,2761,2762],{"class":87},"Upload to S3\n",[66,2764,2765,2767,2769],{"class":68,"line":373},[66,2766,2736],{"class":784},[66,2768,270],{"class":247},[66,2770,2741],{"class":1461},[66,2772,2773],{"class":68,"line":378},[66,2774,2775],{"class":87},"          aws s3 cp backup_$(date +%Y%m%d).sql s3://my-backups/\n",[45,2777,2779],{"id":2778},"cicd-流水线","CI/CD 流水线",[49,2781,2783],{"id":2782},"github-actions","GitHub Actions",[56,2785,2787],{"className":775,"code":2786,"language":777,"meta":61,"style":61},"# .github/workflows/deploy.yml\nname: Deploy to Production\n\non:\n  push:\n    branches: [main]\n\njobs:\n  test:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n      \n      - name: Setup Node.js\n        uses: actions/setup-node@v3\n        with:\n          node-version: '18'\n          cache: 'npm'\n          \n      - name: Install dependencies\n        run: npm ci\n        \n      - name: Run tests\n        run: npm test\n        \n      - name: Type check\n        run: npm run typecheck\n\n  deploy:\n    needs: test\n    runs-on: ubuntu-latest\n    if: github.ref == 'refs/heads/main'\n    \n    steps:\n      - uses: actions/checkout@v3\n      \n      - name: Setup Node.js\n        uses: actions/setup-node@v3\n        with:\n          node-version: '18'\n          cache: 'npm'\n          \n      - name: Install dependencies\n        run: npm ci\n        \n      - name: Build application\n        run: npm run build\n        env:\n          NUXT_PUBLIC_SITE_URL: ${{ secrets.SITE_URL }}\n          NUXT_PUBLIC_API_BASE: ${{ secrets.API_BASE }}\n          \n      - name: Deploy to Vercel\n        uses: amondnet/vercel-action@v20\n        with:\n          vercel-token: ${{ secrets.VERCEL_TOKEN }}\n          vercel-org-id: ${{ secrets.ORG_ID }}\n          vercel-project-id: ${{ secrets.PROJECT_ID }}\n          vercel-args: '--prod'\n",[63,2788,2789,2794,2803,2807,2813,2820,2833,2837,2843,2850,2858,2864,2876,2880,2891,2901,2908,2918,2928,2932,2943,2951,2956,2967,2976,2980,2991,3000,3004,3011,3021,3029,3039,3043,3049,3059,3064,3075,3084,3091,3100,3109,3114,3125,3134,3139,3151,3161,3169,3180,3191,3196,3208,3218,3225,3236,3247,3258],{"__ignoreMap":61},[66,2790,2791],{"class":68,"line":69},[66,2792,2793],{"class":72},"# .github/workflows/deploy.yml\n",[66,2795,2796,2798,2800],{"class":68,"line":76},[66,2797,2646],{"class":784},[66,2799,270],{"class":247},[66,2801,2802],{"class":87},"Deploy to Production\n",[66,2804,2805],{"class":68,"line":91},[66,2806,163],{"emptyLinePlaceholder":162},[66,2808,2809,2811],{"class":68,"line":102},[66,2810,2660],{"class":1509},[66,2812,802],{"class":247},[66,2814,2815,2818],{"class":68,"line":113},[66,2816,2817],{"class":784},"  push",[66,2819,802],{"class":247},[66,2821,2822,2825,2828,2831],{"class":68,"line":124},[66,2823,2824],{"class":784},"    branches",[66,2826,2827],{"class":247},": [",[66,2829,2830],{"class":87},"main",[66,2832,1675],{"class":247},[66,2834,2835],{"class":68,"line":184},[66,2836,163],{"emptyLinePlaceholder":162},[66,2838,2839,2841],{"class":68,"line":190},[66,2840,2694],{"class":784},[66,2842,802],{"class":247},[66,2844,2845,2848],{"class":68,"line":307},[66,2846,2847],{"class":784},"  test",[66,2849,802],{"class":247},[66,2851,2852,2854,2856],{"class":68,"line":312},[66,2853,2708],{"class":784},[66,2855,270],{"class":247},[66,2857,2713],{"class":87},[66,2859,2860,2862],{"class":68,"line":324},[66,2861,2718],{"class":784},[66,2863,802],{"class":247},[66,2865,2866,2868,2871,2873],{"class":68,"line":335},[66,2867,832],{"class":247},[66,2869,2870],{"class":784},"uses",[66,2872,270],{"class":247},[66,2874,2875],{"class":87},"actions/checkout@v3\n",[66,2877,2878],{"class":68,"line":341},[66,2879,1534],{"class":247},[66,2881,2882,2884,2886,2888],{"class":68,"line":346},[66,2883,832],{"class":247},[66,2885,2646],{"class":784},[66,2887,270],{"class":247},[66,2889,2890],{"class":87},"Setup Node.js\n",[66,2892,2893,2896,2898],{"class":68,"line":358},[66,2894,2895],{"class":784},"        uses",[66,2897,270],{"class":247},[66,2899,2900],{"class":87},"actions/setup-node@v3\n",[66,2902,2903,2906],{"class":68,"line":368},[66,2904,2905],{"class":784},"        with",[66,2907,802],{"class":247},[66,2909,2910,2913,2915],{"class":68,"line":373},[66,2911,2912],{"class":784},"          node-version",[66,2914,270],{"class":247},[66,2916,2917],{"class":87},"'18'\n",[66,2919,2920,2923,2925],{"class":68,"line":378},[66,2921,2922],{"class":784},"          cache",[66,2924,270],{"class":247},[66,2926,2927],{"class":87},"'npm'\n",[66,2929,2930],{"class":68,"line":387},[66,2931,2751],{"class":247},[66,2933,2934,2936,2938,2940],{"class":68,"line":400},[66,2935,832],{"class":247},[66,2937,2646],{"class":784},[66,2939,270],{"class":247},[66,2941,2942],{"class":87},"Install dependencies\n",[66,2944,2945,2947,2949],{"class":68,"line":411},[66,2946,2736],{"class":784},[66,2948,270],{"class":247},[66,2950,1113],{"class":87},[66,2952,2953],{"class":68,"line":417},[66,2954,2955],{"class":247},"        \n",[66,2957,2958,2960,2962,2964],{"class":68,"line":695},[66,2959,832],{"class":247},[66,2961,2646],{"class":784},[66,2963,270],{"class":247},[66,2965,2966],{"class":87},"Run tests\n",[66,2968,2969,2971,2973],{"class":68,"line":701},[66,2970,2736],{"class":784},[66,2972,270],{"class":247},[66,2974,2975],{"class":87},"npm test\n",[66,2977,2978],{"class":68,"line":706},[66,2979,2955],{"class":247},[66,2981,2982,2984,2986,2988],{"class":68,"line":712},[66,2983,832],{"class":247},[66,2985,2646],{"class":784},[66,2987,270],{"class":247},[66,2989,2990],{"class":87},"Type check\n",[66,2992,2993,2995,2997],{"class":68,"line":718},[66,2994,2736],{"class":784},[66,2996,270],{"class":247},[66,2998,2999],{"class":87},"npm run typecheck\n",[66,3001,3002],{"class":68,"line":723},[66,3003,163],{"emptyLinePlaceholder":162},[66,3005,3006,3009],{"class":68,"line":729},[66,3007,3008],{"class":784},"  deploy",[66,3010,802],{"class":247},[66,3012,3013,3016,3018],{"class":68,"line":734},[66,3014,3015],{"class":784},"    needs",[66,3017,270],{"class":247},[66,3019,3020],{"class":87},"test\n",[66,3022,3023,3025,3027],{"class":68,"line":740},[66,3024,2708],{"class":784},[66,3026,270],{"class":247},[66,3028,2713],{"class":87},[66,3030,3031,3034,3036],{"class":68,"line":745},[66,3032,3033],{"class":784},"    if",[66,3035,270],{"class":247},[66,3037,3038],{"class":87},"github.ref == 'refs/heads/main'\n",[66,3040,3041],{"class":68,"line":751},[66,3042,1730],{"class":247},[66,3044,3045,3047],{"class":68,"line":757},[66,3046,2718],{"class":784},[66,3048,802],{"class":247},[66,3050,3051,3053,3055,3057],{"class":68,"line":762},[66,3052,832],{"class":247},[66,3054,2870],{"class":784},[66,3056,270],{"class":247},[66,3058,2875],{"class":87},[66,3060,3062],{"class":68,"line":3061},36,[66,3063,1534],{"class":247},[66,3065,3067,3069,3071,3073],{"class":68,"line":3066},37,[66,3068,832],{"class":247},[66,3070,2646],{"class":784},[66,3072,270],{"class":247},[66,3074,2890],{"class":87},[66,3076,3078,3080,3082],{"class":68,"line":3077},38,[66,3079,2895],{"class":784},[66,3081,270],{"class":247},[66,3083,2900],{"class":87},[66,3085,3087,3089],{"class":68,"line":3086},39,[66,3088,2905],{"class":784},[66,3090,802],{"class":247},[66,3092,3094,3096,3098],{"class":68,"line":3093},40,[66,3095,2912],{"class":784},[66,3097,270],{"class":247},[66,3099,2917],{"class":87},[66,3101,3103,3105,3107],{"class":68,"line":3102},41,[66,3104,2922],{"class":784},[66,3106,270],{"class":247},[66,3108,2927],{"class":87},[66,3110,3112],{"class":68,"line":3111},42,[66,3113,2751],{"class":247},[66,3115,3117,3119,3121,3123],{"class":68,"line":3116},43,[66,3118,832],{"class":247},[66,3120,2646],{"class":784},[66,3122,270],{"class":247},[66,3124,2942],{"class":87},[66,3126,3128,3130,3132],{"class":68,"line":3127},44,[66,3129,2736],{"class":784},[66,3131,270],{"class":247},[66,3133,1113],{"class":87},[66,3135,3137],{"class":68,"line":3136},45,[66,3138,2955],{"class":247},[66,3140,3142,3144,3146,3148],{"class":68,"line":3141},46,[66,3143,832],{"class":247},[66,3145,2646],{"class":784},[66,3147,270],{"class":247},[66,3149,3150],{"class":87},"Build application\n",[66,3152,3154,3156,3158],{"class":68,"line":3153},47,[66,3155,2736],{"class":784},[66,3157,270],{"class":247},[66,3159,3160],{"class":87},"npm run build\n",[66,3162,3164,3167],{"class":68,"line":3163},48,[66,3165,3166],{"class":784},"        env",[66,3168,802],{"class":247},[66,3170,3172,3175,3177],{"class":68,"line":3171},49,[66,3173,3174],{"class":784},"          NUXT_PUBLIC_SITE_URL",[66,3176,270],{"class":247},[66,3178,3179],{"class":87},"${{ secrets.SITE_URL }}\n",[66,3181,3183,3186,3188],{"class":68,"line":3182},50,[66,3184,3185],{"class":784},"          NUXT_PUBLIC_API_BASE",[66,3187,270],{"class":247},[66,3189,3190],{"class":87},"${{ secrets.API_BASE }}\n",[66,3192,3194],{"class":68,"line":3193},51,[66,3195,2751],{"class":247},[66,3197,3199,3201,3203,3205],{"class":68,"line":3198},52,[66,3200,832],{"class":247},[66,3202,2646],{"class":784},[66,3204,270],{"class":247},[66,3206,3207],{"class":87},"Deploy to Vercel\n",[66,3209,3211,3213,3215],{"class":68,"line":3210},53,[66,3212,2895],{"class":784},[66,3214,270],{"class":247},[66,3216,3217],{"class":87},"amondnet/vercel-action@v20\n",[66,3219,3221,3223],{"class":68,"line":3220},54,[66,3222,2905],{"class":784},[66,3224,802],{"class":247},[66,3226,3228,3231,3233],{"class":68,"line":3227},55,[66,3229,3230],{"class":784},"          vercel-token",[66,3232,270],{"class":247},[66,3234,3235],{"class":87},"${{ secrets.VERCEL_TOKEN }}\n",[66,3237,3239,3242,3244],{"class":68,"line":3238},56,[66,3240,3241],{"class":784},"          vercel-org-id",[66,3243,270],{"class":247},[66,3245,3246],{"class":87},"${{ secrets.ORG_ID }}\n",[66,3248,3250,3253,3255],{"class":68,"line":3249},57,[66,3251,3252],{"class":784},"          vercel-project-id",[66,3254,270],{"class":247},[66,3256,3257],{"class":87},"${{ secrets.PROJECT_ID }}\n",[66,3259,3261,3264,3266],{"class":68,"line":3260},58,[66,3262,3263],{"class":784},"          vercel-args",[66,3265,270],{"class":247},[66,3267,3268],{"class":87},"'--prod'\n",[45,3270,3271],{"id":3271},"故障排除",[49,3273,3274],{"id":3274},"常见问题",[206,3276,3278],{"id":3277},"_1-构建失败","1. 构建失败",[56,3280,3282],{"className":58,"code":3281,"language":60,"meta":61,"style":61},"# 清理缓存\nrm -rf .nuxt .output node_modules\nnpm install\nnpm run build\n",[63,3283,3284,3289,3306,3313],{"__ignoreMap":61},[66,3285,3286],{"class":68,"line":69},[66,3287,3288],{"class":72},"# 清理缓存\n",[66,3290,3291,3294,3297,3300,3303],{"class":68,"line":76},[66,3292,3293],{"class":150},"rm",[66,3295,3296],{"class":224}," -rf",[66,3298,3299],{"class":87}," .nuxt",[66,3301,3302],{"class":87}," .output",[66,3304,3305],{"class":87}," node_modules\n",[66,3307,3308,3310],{"class":68,"line":91},[66,3309,151],{"class":150},[66,3311,3312],{"class":87}," install\n",[66,3314,3315,3317,3319],{"class":68,"line":102},[66,3316,151],{"class":150},[66,3318,154],{"class":87},[66,3320,157],{"class":87},[206,3322,3324],{"id":3323},"_2-内存不足","2. 内存不足",[56,3326,3328],{"className":58,"code":3327,"language":60,"meta":61,"style":61},"# 增加 Node.js 内存限制\nNODE_OPTIONS=\"--max-old-space-size=4096\" npm run build\n",[63,3329,3330,3335],{"__ignoreMap":61},[66,3331,3332],{"class":68,"line":69},[66,3333,3334],{"class":72},"# 增加 Node.js 内存限制\n",[66,3336,3337,3340,3342,3345,3348,3350],{"class":68,"line":76},[66,3338,3339],{"class":79},"NODE_OPTIONS",[66,3341,84],{"class":83},[66,3343,3344],{"class":87},"\"--max-old-space-size=4096\"",[66,3346,3347],{"class":150}," npm",[66,3349,154],{"class":87},[66,3351,157],{"class":87},[206,3353,3355],{"id":3354},"_3-静态资源-404","3. 静态资源 404",[41,3357,3358,3359,3362,3363,3366],{},"检查 ",[63,3360,3361],{},"nuxt.config.ts"," 中的 ",[63,3364,3365],{},"app.baseURL"," 配置：",[56,3368,3370],{"className":1447,"code":3369,"language":1449,"meta":61,"style":61},"export default defineNuxtConfig({\n  app: {\n    baseURL: '/your-app/'  // 如果部署在子路径\n  }\n})\n",[63,3371,3372,3382,3388,3399,3403],{"__ignoreMap":61},[66,3373,3374,3376,3378,3380],{"class":68,"line":69},[66,3375,1462],{"class":1461},[66,3377,1465],{"class":1461},[66,3379,1468],{"class":150},[66,3381,1471],{"class":247},[66,3383,3384,3386],{"class":68,"line":76},[66,3385,1634],{"class":1476},[66,3387,1480],{"class":247},[66,3389,3390,3393,3396],{"class":68,"line":91},[66,3391,3392],{"class":1476},"    baseURL:",[66,3394,3395],{"class":87}," '/your-app/'",[66,3397,3398],{"class":72},"  // 如果部署在子路径\n",[66,3400,3401],{"class":68,"line":102},[66,3402,414],{"class":247},[66,3404,3405],{"class":68,"line":113},[66,3406,1606],{"class":247},[49,3408,3409],{"id":3409},"日志调试",[56,3411,3413],{"className":1447,"code":3412,"language":1449,"meta":61,"style":61},"// server/api/health.get.ts\nexport default defineEventHandler(() => {\n  return {\n    status: 'ok',\n    timestamp: new Date().toISOString(),\n    version: process.env.npm_package_version,\n    node: process.version,\n    memory: process.memoryUsage()\n  }\n})\n",[63,3414,3415,3420,3435,3442,3452,3473,3491,3504,3518,3522],{"__ignoreMap":61},[66,3416,3417],{"class":68,"line":69},[66,3418,3419],{"class":72},"// server/api/health.get.ts\n",[66,3421,3422,3424,3426,3429,3431,3433],{"class":68,"line":76},[66,3423,1462],{"class":1461},[66,3425,1465],{"class":1461},[66,3427,3428],{"class":150}," defineEventHandler",[66,3430,1943],{"class":247},[66,3432,1947],{"class":1946},[66,3434,1480],{"class":247},[66,3436,3437,3440],{"class":68,"line":91},[66,3438,3439],{"class":1461},"  return",[66,3441,1480],{"class":247},[66,3443,3444,3447,3450],{"class":68,"line":102},[66,3445,3446],{"class":1476},"    status:",[66,3448,3449],{"class":87}," 'ok'",[66,3451,277],{"class":247},[66,3453,3454,3457,3461,3464,3467,3470],{"class":68,"line":113},[66,3455,3456],{"class":1476},"    timestamp:",[66,3458,3460],{"class":3459},"sy0r-"," new",[66,3462,3463],{"class":150}," Date",[66,3465,3466],{"class":247},"().",[66,3468,3469],{"class":150},"toISOString",[66,3471,3472],{"class":247},"(),\n",[66,3474,3475,3478,3480,3482,3484,3486,3489],{"class":68,"line":124},[66,3476,3477],{"class":1476},"    version:",[66,3479,1898],{"class":79},[66,3481,1901],{"class":247},[66,3483,1904],{"class":79},[66,3485,1901],{"class":247},[66,3487,3488],{"class":79},"npm_package_version",[66,3490,277],{"class":247},[66,3492,3493,3496,3498,3500,3502],{"class":68,"line":184},[66,3494,3495],{"class":1476},"    node:",[66,3497,1898],{"class":79},[66,3499,1901],{"class":247},[66,3501,785],{"class":79},[66,3503,277],{"class":247},[66,3505,3506,3509,3511,3513,3516],{"class":68,"line":190},[66,3507,3508],{"class":1476},"    memory:",[66,3510,1898],{"class":79},[66,3512,1901],{"class":247},[66,3514,3515],{"class":150},"memoryUsage",[66,3517,2212],{"class":247},[66,3519,3520],{"class":68,"line":307},[66,3521,414],{"class":247},[66,3523,3524],{"class":68,"line":312},[66,3525,1606],{"class":247},[45,3527,3528],{"id":3528},"相关资源",[558,3530,3531,3540,3547,3554],{},[561,3532,3533],{},[3534,3535,3539],"a",{"href":3536,"rel":3537},"https://nuxt.com/docs/getting-started/deployment",[3538],"nofollow","Nuxt 3 部署文档",[561,3541,3542],{},[3534,3543,3546],{"href":3544,"rel":3545},"https://vercel.com/docs/frameworks/nuxt",[3538],"Vercel 部署指南",[561,3548,3549],{},[3534,3550,3553],{"href":3551,"rel":3552},"https://docs.netlify.com/frameworks/nuxt/",[3538],"Netlify 部署指南",[561,3555,3556],{},[3534,3557,3560],{"href":3558,"rel":3559},"https://docs.docker.com/develop/dev-best-practices/",[3538],"Docker 最佳实践",[3562,3563,3564],"style",{},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .sfEkN, html code.shiki .sfEkN{--shiki-light:#357B42;--shiki-light-font-style:italic;--shiki-default:#357B42;--shiki-default-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit}html pre.shiki code .stY2G, html code.shiki .stY2G{--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#9CDCFE}html pre.shiki code .s4fzq, html code.shiki .s4fzq{--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#D4D4D4}html pre.shiki code .s3_3W, html code.shiki .s3_3W{--shiki-light:#A44185;--shiki-default:#A44185;--shiki-dark:#CE9178}html pre.shiki code .sIx0X, html code.shiki .sIx0X{--shiki-light:#7EB233;--shiki-default:#7EB233;--shiki-dark:#DCDCAA}html pre.shiki code .sKHZn, html code.shiki .sKHZn{--shiki-light:#174781;--shiki-default:#174781;--shiki-dark:#CE9178}html pre.shiki code .sHMit, html code.shiki .sHMit{--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#E6E6E6}html pre.shiki code .s4h4A, html code.shiki .s4h4A{--shiki-light:#DC3EB7;--shiki-default:#DC3EB7;--shiki-dark:#9CDCFE}html pre.shiki code .sZjll, html code.shiki .sZjll{--shiki-light:#00820F;--shiki-default:#00820F;--shiki-dark:#CE9178}html pre.shiki code .skrhf, html code.shiki .skrhf{--shiki-light:#0444AC;--shiki-default:#0444AC;--shiki-dark:#569CD6}html pre.shiki code .sAbJP, html code.shiki .sAbJP{--shiki-light:#174781;--shiki-default:#174781;--shiki-dark:#B5CEA8}html pre.shiki code .s7VM3, html code.shiki .s7VM3{--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#C586C0}html pre.shiki code .s6DEn, html code.shiki .s6DEn{--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#9CDCFE}html pre.shiki code .sBSzB, html code.shiki .sBSzB{--shiki-light:#174781;--shiki-default:#174781;--shiki-dark:#569CD6}html pre.shiki code .sD1d_, html code.shiki .sD1d_{--shiki-light:#0991B6;--shiki-default:#0991B6;--shiki-dark:#569CD6}html pre.shiki code .sozAS, html code.shiki .sozAS{--shiki-light:#B1108E;--shiki-default:#B1108E;--shiki-dark:#9CDCFE}html pre.shiki code .sqtEc, html code.shiki .sqtEc{--shiki-light:#1AB394;--shiki-default:#1AB394;--shiki-dark:#DCDCAA}html pre.shiki code .sy0r-, html code.shiki .sy0r-{--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#569CD6}",{"title":61,"searchDepth":76,"depth":76,"links":3566},[3567,3571,3577,3581,3585,3589,3593,3596,3600],{"id":47,"depth":76,"text":47,"children":3568},[3569,3570],{"id":51,"depth":91,"text":51},{"id":135,"depth":91,"text":135},{"id":200,"depth":76,"text":200,"children":3572},[3573,3574,3575,3576],{"id":203,"depth":91,"text":204},{"id":459,"depth":91,"text":460},{"id":575,"depth":91,"text":576},{"id":1053,"depth":91,"text":1054},{"id":1437,"depth":76,"text":1437,"children":3578},[3579,3580],{"id":1440,"depth":91,"text":1440},{"id":1686,"depth":91,"text":1686},{"id":1826,"depth":76,"text":1826,"children":3582},[3583,3584],{"id":1829,"depth":91,"text":1829},{"id":2141,"depth":91,"text":2141},{"id":2299,"depth":76,"text":2299,"children":3586},[3587,3588],{"id":2302,"depth":91,"text":2303},{"id":2432,"depth":91,"text":2432},{"id":2488,"depth":76,"text":2488,"children":3590},[3591,3592],{"id":2491,"depth":91,"text":2491},{"id":2631,"depth":91,"text":2631},{"id":2778,"depth":76,"text":2779,"children":3594},[3595],{"id":2782,"depth":91,"text":2783},{"id":3271,"depth":76,"text":3271,"children":3597},[3598,3599],{"id":3274,"depth":91,"text":3274},{"id":3409,"depth":91,"text":3409},{"id":3528,"depth":76,"text":3528},"详细的生产环境部署和配置指南","md",{"date":3604,"updated":3604},"2025-06-05",{"title":17,"description":3601},"STfhYiKP4xduZ5oWEjLNcXw7R4eMXOkFxNbS84-52Bg",[3608,3609],{"title":13,"path":14,"stem":15,"children":-1},{"title":21,"path":22,"stem":23,"children":-1},1749397104114]