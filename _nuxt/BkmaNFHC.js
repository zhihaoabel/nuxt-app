import{al as C,E as m,an as R,C as I,ao as D,am as M,ae as E,N as w,e as x,w as V,O as k,J as n,Q as N,aq as T}from"./Cfjlhag0.js";import{b as F,a as H,_ as q}from"./COMJAOS3.js";import{u as K}from"./-VhkvvlH.js";import{i as j}from"./CHIgUVhi.js";import{u as P}from"./DhHa3HEm.js";function z(a,o){return j(a)?!1:Array.isArray(a)?a.some(t=>C(t,o)):C(a,o)}function U({type:a,defaultValue:o,modelValue:t}){const e=t||o;return t!==void 0||o!==void 0?Array.isArray(e)?"multiple":"single":a??"single"}function J({type:a,defaultValue:o,modelValue:t}){return a||U({type:a,defaultValue:o,modelValue:t})}function L({type:a,defaultValue:o}){return o!==void 0?o:a==="single"?void 0:[]}function Q(a,o){const t=m(()=>J(a)),e=R(a,"modelValue",o,{defaultValue:L(a),passive:a.modelValue===void 0,deep:!0});function l(s){if(t.value==="single")e.value=C(s,e.value)?void 0:s;else{const r=Array.isArray(e.value)?[...e.value||[]]:[e.value].filter(Boolean);if(z(r,s)){const d=r.findIndex(c=>C(c,s));r.splice(d,1)}else r.push(s);e.value=r}}const i=m(()=>t.value==="single");return{modelValue:e,changeModelValue:l,isSingle:i}}const[S,X]=D("AccordionRoot"),le=I({__name:"AccordionRoot",props:{collapsible:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},dir:{},orientation:{default:"vertical"},unmountOnHide:{type:Boolean,default:!0},asChild:{type:Boolean},as:{},type:{},modelValue:{},defaultValue:{}},emits:["update:modelValue"],setup(a,{emit:o}){const t=a,e=o,{dir:l,disabled:i,unmountOnHide:s}=M(t),r=P(l),{modelValue:d,changeModelValue:c,isSingle:g}=Q(t,e),{forwardRef:u,currentElement:f}=E();return X({disabled:i,direction:r,orientation:t.orientation,parentElement:f,isSingle:g,collapsible:t.collapsible,modelValue:d,changeModelValue:c,unmountOnHide:s}),(v,b)=>(x(),w(n(N),{ref:n(u),"as-child":v.asChild,as:v.as},{default:V(()=>[k(v.$slots,"default",{modelValue:n(d)})]),_:3},8,["as-child","as"]))}}),G=["INPUT","TEXTAREA"];function W(a,o,t,e={}){if(!o||e.enableIgnoredElement&&G.includes(o.nodeName))return null;const{arrowKeyOptions:l="both",attributeName:i="[data-reka-collection-item]",itemsArray:s=[],loop:r=!0,dir:d="ltr",preventScroll:c=!0,focus:g=!1}=e,[u,f,v,b,h,y]=[a.key==="ArrowRight",a.key==="ArrowLeft",a.key==="ArrowUp",a.key==="ArrowDown",a.key==="Home",a.key==="End"],A=v||b,B=u||f;if(!h&&!y&&(!A&&!B||l==="vertical"&&B||l==="horizontal"&&A))return null;const _=t?Array.from(t.querySelectorAll(i)):s;if(!_.length)return null;c&&a.preventDefault();let p=null;return B||A?p=$(_,o,{goForward:A?b:d==="ltr"?u:f,loop:r}):h?p=_.at(0)||null:y&&(p=_.at(-1)||null),g&&(p==null||p.focus()),p}function $(a,o,t,e=a.length){if(--e===0)return null;const l=a.indexOf(o),i=t.goForward?l+1:l-1;if(!t.loop&&(i<0||i>=a.length))return null;const s=(i+a.length)%a.length,r=a[s];return r?r.hasAttribute("disabled")&&r.getAttribute("disabled")!=="false"?$(a,r,t,e):r:null}const[O,Y]=D("AccordionItem"),ie=I({__name:"AccordionItem",props:{disabled:{type:Boolean},value:{},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{}},setup(a,{expose:o}){const t=a,e=S(),l=m(()=>e.isSingle.value?t.value===e.modelValue.value:Array.isArray(e.modelValue.value)&&e.modelValue.value.includes(t.value)),i=m(()=>e.disabled.value||t.disabled),s=m(()=>i.value?"":void 0),r=m(()=>l.value?"open":"closed");o({open:l,dataDisabled:s});const{currentRef:d,currentElement:c}=E();Y({open:l,dataState:r,disabled:i,dataDisabled:s,triggerId:"",currentRef:d,currentElement:c,value:m(()=>t.value)});function g(u){var h;const f=u.target;if(Array.from(((h=e.parentElement.value)==null?void 0:h.querySelectorAll("[data-reka-collection-item]"))??[]).findIndex(y=>y===f)===-1)return null;W(u,c.value,e.parentElement.value,{arrowKeyOptions:e.orientation,dir:e.direction.value,focus:!0})}return(u,f)=>(x(),w(n(F),{"data-orientation":n(e).orientation,"data-disabled":s.value,"data-state":r.value,disabled:i.value,open:l.value,as:t.as,"as-child":t.asChild,"unmount-on-hide":n(e).unmountOnHide.value,onKeydown:T(g,["up","down","left","right","home","end"])},{default:V(()=>[k(u.$slots,"default",{open:l.value})]),_:3},8,["data-orientation","data-disabled","data-state","disabled","open","as","as-child","unmount-on-hide"]))}}),re=I({__name:"AccordionContent",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(a){const o=a,t=S(),e=O();return E(),(l,i)=>(x(),w(n(H),{role:"region","as-child":o.asChild,as:l.as,"force-mount":o.forceMount,"aria-labelledby":n(e).triggerId,"data-state":n(e).dataState.value,"data-disabled":n(e).dataDisabled.value,"data-orientation":n(t).orientation,style:{"--reka-accordion-content-width":"var(--reka-collapsible-content-width)","--reka-accordion-content-height":"var(--reka-collapsible-content-height)"},onContentFound:i[0]||(i[0]=s=>n(t).changeModelValue(n(e).value.value))},{default:V(()=>[k(l.$slots,"default")]),_:3},8,["as-child","as","force-mount","aria-labelledby","data-state","data-disabled","data-orientation"]))}}),se=I({__name:"AccordionTrigger",props:{asChild:{type:Boolean},as:{}},setup(a){const o=a,t=S(),e=O();e.triggerId||(e.triggerId=K(void 0,"reka-accordion-trigger"));function l(){const i=t.isSingle.value&&e.open.value&&!t.collapsible;e.disabled.value||i||t.changeModelValue(e.value.value)}return(i,s)=>(x(),w(n(q),{id:n(e).triggerId,ref:n(e).currentRef,"data-reka-collection-item":"",as:o.as,"as-child":o.asChild,"aria-disabled":n(e).disabled.value||void 0,"aria-expanded":n(e).open.value||!1,"data-disabled":n(e).dataDisabled.value,"data-orientation":n(t).orientation,"data-state":n(e).dataState.value,disabled:n(e).disabled.value,onClick:l},{default:V(()=>[k(i.$slots,"default")]),_:3},8,["id","as","as-child","aria-disabled","aria-expanded","data-disabled","data-orientation","data-state","disabled"]))}});export{ie as _,O as a,se as b,re as c,le as d,S as i,W as u};
