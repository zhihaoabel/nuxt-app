import{E as a,av as e,u as t,aw as n,a3 as s,ax as r,ay as i,r as o,az as u,aA as c,ar as l,aB as d,J as y,aC as v,a0 as p,a9 as f,c as _,aD as g,aE as D}from"./cnz0qvgB.js";const m={trailing:!0};function h(a,e=25,t={}){if(t={...m,...t},!Number.isFinite(e))throw new TypeError("Expected `wait` to be a finite number");let n,s,r,i,o=[];const u=(e,n)=>(r=async function(a,e,t){return await a.apply(e,t)}(a,e,n),r.finally((()=>{if(r=null,t.trailing&&i&&!s){const a=u(e,i);return i=null,a}})),r);return function(...a){return r?(t.trailing&&(i=a),r):new Promise((r=>{const i=!s&&t.leading;clearTimeout(s),s=setTimeout((()=>{s=null;const e=t.leading?n:u(this,a);for(const a of o)a(e);o=[]}),e),i?(n=u(this,a),r(n)):o.push(r)}))}}function x(...i){var o;const u="string"==typeof i[i.length-1]?i.pop():void 0;(function(a,e){if("string"==typeof a)return!1;if("object"==typeof a&&null!==a)return!1;if("function"==typeof a&&"function"==typeof e)return!1;return!0})(i[0],i[1])&&i.unshift(u);let[c,l,d={}]=i;const y=a((()=>e(c)));if("string"!=typeof y.value)throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if("function"!=typeof l)throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const m=t();d.server??(d.server=!0),d.default??(d.default=C),d.getCachedData??(d.getCachedData=V),d.lazy??(d.lazy=!1),d.immediate??(d.immediate=!0),d.deep??(d.deep=n.deep),d.dedupe??(d.dedupe="cancel"),d._functionName,m._asyncData[y.value];const h={cause:"initial",dedupe:d.dedupe};(null==(o=m._asyncData[y.value])?void 0:o._init)||(h.cachedData=d.getCachedData(y.value,m,{cause:"initial"}),m._asyncData[y.value]=b(m,y.value,l,d,h.cachedData));const x=m._asyncData[y.value];x._deps++;const j=()=>m._asyncData[y.value].execute(h),k=!1!==d.server&&m.payload.serverRendered;{let a=function(a){const e=m._asyncData[a];(null==e?void 0:e._deps)&&(e._deps--,0===e._deps&&(null==e||e._off()))};const e=p();if(e&&k&&d.immediate&&!e.sp&&(e.sp=[]),e&&!e._nuxtOnBeforeMountCbs){e._nuxtOnBeforeMountCbs=[];const a=e._nuxtOnBeforeMountCbs;f((()=>{a.forEach((a=>{a()})),a.splice(0,a.length)})),_((()=>a.splice(0,a.length)))}const t=e&&(e._nuxtClientOnly||g(D,!1));k&&m.isHydrating&&(x.error.value||null!=x.data.value)?(x.pending.value=!1,x.status.value=x.error.value?"error":"success"):e&&(!t&&m.payload.serverRendered&&m.isHydrating||d.lazy)&&d.immediate?e._nuxtOnBeforeMountCbs.push(j):d.immediate&&j();const i=v(),o=s([y,...d.watch||[]],(([e],[t])=>{var s,r;if((e||t)&&e!==t){const i=(null==(s=m._asyncData[t])?void 0:s.data.value)!==n.value;t&&a(t);const o={cause:"initial",dedupe:d.dedupe};(null==(r=m._asyncData[e])?void 0:r._init)||(o.cachedData=d.getCachedData(e,m,{cause:"initial"}),m._asyncData[e]=b(m,e,l,d,o.cachedData)),m._asyncData[e]._deps++,(d.immediate||i)&&m._asyncData[e].execute(o)}else x._execute({cause:"watch",dedupe:d.dedupe})}),{flush:"sync"});i&&r((()=>{o(),a(y.value)}))}const E={data:P((()=>{var a;return null==(a=m._asyncData[y.value])?void 0:a.data})),pending:P((()=>{var a;return null==(a=m._asyncData[y.value])?void 0:a.pending})),status:P((()=>{var a;return null==(a=m._asyncData[y.value])?void 0:a.status})),error:P((()=>{var a;return null==(a=m._asyncData[y.value])?void 0:a.error})),refresh:(...a)=>m._asyncData[y.value].execute(...a),execute:(...a)=>m._asyncData[y.value].execute(...a),clear:()=>w(m,y.value)},O=Promise.resolve(m._asyncDataPromises[y.value]).then((()=>E));return Object.assign(O,E),O}function P(e){return a({get(){var a;return null==(a=e())?void 0:a.value},set(a){const t=e();t&&(t.value=a)}})}async function j(a){await new Promise((a=>i(a)));await t().hooks.callHookParallel("app:data:refresh",void 0)}function w(a,e){e in a.payload.data&&(a.payload.data[e]=void 0),e in a.payload._errors&&(a.payload._errors[e]=n.errorValue),a._asyncData[e]&&(a._asyncData[e].data.value=void 0,a._asyncData[e].error.value=n.errorValue,a._asyncData[e].pending.value=!1,a._asyncData[e].status.value="idle"),e in a._asyncDataPromises&&(a._asyncDataPromises[e]&&(a._asyncDataPromises[e].cancelled=!0),a._asyncDataPromises[e]=void 0)}function b(a,e,t,s,r){var i;(i=a.payload._errors)[e]??(i[e]=n.errorValue);const v=s.getCachedData!==V,p=t,f=s.deep?o:u,_=null!=r,g=a.hook("app:data:refresh",(async a=>{a&&!a.includes(e)||await D.execute({cause:"refresh:hook"})})),D={data:f(_?r:s.default()),pending:u(!_),error:c(a.payload._errors,e),status:u("idle"),execute:(t={})=>{if(a._asyncDataPromises[e]){if("defer"===(r=t.dedupe??s.dedupe)||!1===r)return a._asyncDataPromises[e];a._asyncDataPromises[e].cancelled=!0}var r;if("initial"===t.cause||a.isHydrating){const r="cachedData"in t?t.cachedData:s.getCachedData(e,a,{cause:t.cause??"refresh:manual"});if(null!=r)return a.payload.data[e]=D.data.value=r,D.error.value=n.errorValue,D.status.value="success",Promise.resolve(r)}D.pending.value=!0,D.status.value="pending";const i=new Promise(((e,t)=>{try{e(p(a))}catch(n){t(n)}})).then((async t=>{if(i.cancelled)return a._asyncDataPromises[e];let r=t;s.transform&&(r=await s.transform(t)),s.pick&&(r=function(a,e){const t={};for(const n of e)t[n]=a[n];return t}(r,s.pick)),a.payload.data[e]=r,D.data.value=r,D.error.value=n.errorValue,D.status.value="success"})).catch((t=>{if(i.cancelled)return a._asyncDataPromises[e];D.error.value=d(t),D.data.value=y(s.default()),D.status.value="error"})).finally((()=>{i.cancelled||(D.pending.value=!1,delete a._asyncDataPromises[e])}));return a._asyncDataPromises[e]=i,a._asyncDataPromises[e]},_execute:h(((...a)=>D.execute(...a)),0,{leading:!0}),_default:s.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{var t;g(),(null==(t=a._asyncData[e])?void 0:t._init)&&(a._asyncData[e]._init=!1),v||l((()=>{var t;(null==(t=a._asyncData[e])?void 0:t._init)||(w(a,e),D.execute=()=>Promise.resolve(),D.data.value=n.value)}))}};return D}const C=()=>n.value,V=(a,e,t)=>e.isHydrating?e.payload.data[a]:"refresh:manual"!==t.cause&&"refresh:hook"!==t.cause?e.static.data[a]:void 0,k={introduction:"v3.5.0--iF5gsEmAwWInDb2uarhsN1EHD_LKPuaJMBXroV8Ph38",payments:"v3.5.0--jM2-fAV1PpJL-lcPJbOJrDIXY9j6nFrVgiGYzLSOjSc",content:"v3.5.0--DDz2qt01kkjDBcIVEQVqdKuTLY1Jus8bt2eV7K5qsNY"},E={introduction:"_content_introduction",payments:"_content_payments",content:"_content_content",info:"_content_info"},O={introduction:{type:"page",fields:{id:"string",stem:"string",extension:"string",meta:"json",path:"string",title:"string",description:"string",seo:"json",body:"json",navigation:"json"}},payments:{type:"page",fields:{id:"string",stem:"string",extension:"string",meta:"json",path:"string",title:"string",description:"string",seo:"json",body:"json",navigation:"json"}},content:{type:"page",fields:{id:"string",stem:"string",extension:"string",meta:"json",path:"string",title:"string",description:"string",seo:"json",body:"json",navigation:"json"}},info:{type:"data",fields:{}}};export{O as a,k as c,j as r,E as t,x as u};
