import{C as a,ao as e,an as t,am as n,ae as o,N as s,e as l,w as d,O as i,J as u,Q as r,r as p,E as v,a3 as c,o as m,aY as f,g as b,P as h,f as y,aZ as C,ar as g}from"./cnz0qvgB.js";import{u as _}from"./Dl1MLp5C.js";const[O,B]=e("CollapsibleRoot"),k=a({__name:"CollapsibleRoot",props:{defaultOpen:{type:Boolean,default:!1},open:{type:Boolean,default:void 0},disabled:{type:Boolean},unmountOnHide:{type:Boolean,default:!0},asChild:{type:Boolean},as:{}},emits:["update:open"],setup(a,{expose:e,emit:p}){const v=a,c=t(v,"open",p,{defaultValue:v.defaultOpen,passive:void 0===v.open}),{disabled:m,unmountOnHide:f}=n(v);return B({contentId:"",disabled:m,open:c,unmountOnHide:f,onOpenToggle:()=>{m.value||(c.value=!c.value)}}),e({open:c}),o(),(a,e)=>(l(),s(u(r),{as:a.as,"as-child":v.asChild,"data-state":u(c)?"open":"closed","data-disabled":u(m)?"":void 0},{default:d((()=>[i(a.$slots,"default",{open:u(c)})])),_:3},8,["as","as-child","data-state","data-disabled"]))}}),x=a({inheritAttrs:!1,__name:"CollapsibleContent",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["contentFound"],setup(a,{emit:e}){const t=a,n=e,B=O();B.contentId||(B.contentId=_(void 0,"reka-collapsible-content"));const k=p(),{forwardRef:x,currentElement:N}=o(),$=p(0),w=p(0),D=v((()=>B.open.value)),H=p(D.value),I=p();c((()=>{var a;return[D.value,null==(a=k.value)?void 0:a.present]}),(async()=>{await g();const a=N.value;if(!a)return;I.value=I.value||{transitionDuration:a.style.transitionDuration,animationName:a.style.animationName},a.style.transitionDuration="0s",a.style.animationName="none";const e=a.getBoundingClientRect();w.value=e.height,$.value=e.width,H.value||(a.style.transitionDuration=I.value.transitionDuration,a.style.animationName=I.value.animationName)}),{immediate:!0});const R=v((()=>H.value&&B.open.value));return m((()=>{requestAnimationFrame((()=>{H.value=!1}))})),f(N,"beforematch",(a=>{requestAnimationFrame((()=>{B.onOpenToggle(),n("contentFound")}))})),(a,e)=>(l(),s(u(C),{ref_key:"presentRef",ref:k,present:a.forceMount||u(B).open.value,"force-mount":!0},{default:d((({present:e})=>{var n;return[b(u(r),h(a.$attrs,{id:u(B).contentId,ref:u(x),"as-child":t.asChild,as:a.as,hidden:e?void 0:u(B).unmountOnHide.value?"":"until-found","data-state":R.value?void 0:u(B).open.value?"open":"closed","data-disabled":(null==(n=u(B).disabled)?void 0:n.value)?"":void 0,style:{"--reka-collapsible-content-height":`${w.value}px`,"--reka-collapsible-content-width":`${$.value}px`}}),{default:d((()=>[!u(B).unmountOnHide.value||e?i(a.$slots,"default",{key:0}):y("",!0)])),_:2},1040,["id","as-child","as","hidden","data-state","data-disabled","style"])]})),_:3},8,["present"]))}}),N=a({__name:"CollapsibleTrigger",props:{asChild:{type:Boolean},as:{default:"button"}},setup(a){const e=a;o();const t=O();return(a,n)=>{var o,p;return l(),s(u(r),{type:"button"===a.as?"button":void 0,as:a.as,"as-child":e.asChild,"aria-controls":u(t).contentId,"aria-expanded":u(t).open.value,"data-state":u(t).open.value?"open":"closed","data-disabled":(null==(o=u(t).disabled)?void 0:o.value)?"":void 0,disabled:null==(p=u(t).disabled)?void 0:p.value,onClick:u(t).onOpenToggle},{default:d((()=>[i(a.$slots,"default")])),_:3},8,["type","as","as-child","aria-controls","aria-expanded","data-state","data-disabled","disabled","onClick"])}}});export{N as _,x as a,k as b};
