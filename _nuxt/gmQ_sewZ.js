import{al as e,E as a,an as l,C as t,ao as o,am as n,ae as i,N as d,e as r,w as s,O as u,J as c,Q as p,aq as f}from"./cnz0qvgB.js";import{b as v,a as m,_ as b}from"./C0sbRxwW.js";import{u as g}from"./Dl1MLp5C.js";import{i as h}from"./aV-w2MPu.js";import{u as y}from"./BBkmFPHu.js";function A({type:e,defaultValue:a,modelValue:l}){return e||function({type:e,defaultValue:a,modelValue:l}){const t=l||a;return void 0!==l||void 0!==a?Array.isArray(t)?"multiple":"single":e??"single"}({type:e,defaultValue:a,modelValue:l})}function V({type:e,defaultValue:a}){return void 0!==a?a:"single"===e?void 0:[]}function k(t,o){const n=a((()=>A(t))),i=l(t,"modelValue",o,{defaultValue:V(t),passive:void 0===t.modelValue,deep:!0});const d=a((()=>"single"===n.value));return{modelValue:i,changeModelValue:function(a){if("single"===n.value)i.value=e(a,i.value)?void 0:a;else{const o=Array.isArray(i.value)?[...i.value||[]]:[i.value].filter(Boolean);if(t=a,!h(l=o)&&(Array.isArray(l)?l.some((a=>e(a,t))):e(l,t))){const l=o.findIndex((l=>e(l,a)));o.splice(l,1)}else o.push(a);i.value=o}var l,t},isSingle:d}}const[w,_]=o("AccordionRoot"),C=t({__name:"AccordionRoot",props:{collapsible:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},dir:{},orientation:{default:"vertical"},unmountOnHide:{type:Boolean,default:!0},asChild:{type:Boolean},as:{},type:{},modelValue:{},defaultValue:{}},emits:["update:modelValue"],setup(e,{emit:a}){const l=e,t=a,{dir:o,disabled:f,unmountOnHide:v}=n(l),m=y(o),{modelValue:b,changeModelValue:g,isSingle:h}=k(l,t),{forwardRef:A,currentElement:V}=i();return _({disabled:f,direction:m,orientation:l.orientation,parentElement:V,isSingle:h,collapsible:l.collapsible,modelValue:b,changeModelValue:g,unmountOnHide:v}),(e,a)=>(r(),d(c(p),{ref:c(A),"as-child":e.asChild,as:e.as},{default:s((()=>[u(e.$slots,"default",{modelValue:c(b)})])),_:3},8,["as-child","as"]))}}),B=["INPUT","TEXTAREA"];function E(e,a,l,t={}){if(!a||t.enableIgnoredElement&&B.includes(a.nodeName))return null;const{arrowKeyOptions:o="both",attributeName:n="[data-reka-collection-item]",itemsArray:i=[],loop:d=!0,dir:r="ltr",preventScroll:s=!0,focus:u=!1}=t,[c,p,f,v,m,b]=["ArrowRight"===e.key,"ArrowLeft"===e.key,"ArrowUp"===e.key,"ArrowDown"===e.key,"Home"===e.key,"End"===e.key],g=f||v,h=c||p;if(!m&&!b&&(!g&&!h||"vertical"===o&&h||"horizontal"===o&&g))return null;const y=l?Array.from(l.querySelectorAll(n)):i;if(!y.length)return null;s&&e.preventDefault();let A=null;if(h||g){A=I(y,a,{goForward:g?v:"ltr"===r?c:p,loop:d})}else m?A=y.at(0)||null:b&&(A=y.at(-1)||null);return u&&(null==A||A.focus()),A}function I(e,a,l,t=e.length){if(0===--t)return null;const o=e.indexOf(a),n=l.goForward?o+1:o-1;if(!l.loop&&(n<0||n>=e.length))return null;const i=e[(n+e.length)%e.length];if(!i)return null;return i.hasAttribute("disabled")&&"false"!==i.getAttribute("disabled")?I(e,i,l,t):i}const[S,O]=o("AccordionItem"),R=t({__name:"AccordionItem",props:{disabled:{type:Boolean},value:{},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{}},setup(e,{expose:l}){const t=e,o=w(),n=a((()=>o.isSingle.value?t.value===o.modelValue.value:Array.isArray(o.modelValue.value)&&o.modelValue.value.includes(t.value))),p=a((()=>o.disabled.value||t.disabled)),m=a((()=>p.value?"":void 0)),b=a((()=>n.value?"open":"closed"));l({open:n,dataDisabled:m});const{currentRef:g,currentElement:h}=i();function y(e){var a;const l=e.target;if(-1===Array.from((null==(a=o.parentElement.value)?void 0:a.querySelectorAll("[data-reka-collection-item]"))??[]).findIndex((e=>e===l)))return null;E(e,h.value,o.parentElement.value,{arrowKeyOptions:o.orientation,dir:o.direction.value,focus:!0})}return O({open:n,dataState:b,disabled:p,dataDisabled:m,triggerId:"",currentRef:g,currentElement:h,value:a((()=>t.value))}),(e,a)=>(r(),d(c(v),{"data-orientation":c(o).orientation,"data-disabled":m.value,"data-state":b.value,disabled:p.value,open:n.value,as:t.as,"as-child":t.asChild,"unmount-on-hide":c(o).unmountOnHide.value,onKeydown:f(y,["up","down","left","right","home","end"])},{default:s((()=>[u(e.$slots,"default",{open:n.value})])),_:3},8,["data-orientation","data-disabled","data-state","disabled","open","as","as-child","unmount-on-hide"]))}}),x=t({__name:"AccordionContent",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(e){const a=e,l=w(),t=S();return i(),(e,o)=>(r(),d(c(m),{role:"region","as-child":a.asChild,as:e.as,"force-mount":a.forceMount,"aria-labelledby":c(t).triggerId,"data-state":c(t).dataState.value,"data-disabled":c(t).dataDisabled.value,"data-orientation":c(l).orientation,style:{"--reka-accordion-content-width":"var(--reka-collapsible-content-width)","--reka-accordion-content-height":"var(--reka-collapsible-content-height)"},onContentFound:o[0]||(o[0]=e=>c(l).changeModelValue(c(t).value.value))},{default:s((()=>[u(e.$slots,"default")])),_:3},8,["as-child","as","force-mount","aria-labelledby","data-state","data-disabled","data-orientation"]))}}),M=t({__name:"AccordionTrigger",props:{asChild:{type:Boolean},as:{}},setup(e){const a=e,l=w(),t=S();function o(){const e=l.isSingle.value&&t.open.value&&!l.collapsible;t.disabled.value||e||l.changeModelValue(t.value.value)}return t.triggerId||(t.triggerId=g(void 0,"reka-accordion-trigger")),(e,n)=>(r(),d(c(b),{id:c(t).triggerId,ref:c(t).currentRef,"data-reka-collection-item":"",as:a.as,"as-child":a.asChild,"aria-disabled":c(t).disabled.value||void 0,"aria-expanded":c(t).open.value||!1,"data-disabled":c(t).dataDisabled.value,"data-orientation":c(l).orientation,"data-state":c(t).dataState.value,disabled:c(t).disabled.value,onClick:o},{default:s((()=>[u(e.$slots,"default")])),_:3},8,["id","as","as-child","aria-disabled","aria-expanded","data-disabled","data-orientation","data-state","disabled"]))}});export{R as _,S as a,M as b,x as c,C as d,w as i,E as u};
